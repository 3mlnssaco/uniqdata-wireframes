<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íšŒì›ê°€ì… Step 4 - íŒ¨ìŠ¤í‚¤ ë“±ë¡ - Wireframe</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, sans-serif; background: linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }

    .container { display: flex; width: 950px; min-height: 750px; background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 25px 50px rgba(0,0,0,0.3); }

    .left-panel { width: 320px; background: linear-gradient(180deg, #1e40af 0%, #1e3a8a 100%); color: white; padding: 40px; display: flex; flex-direction: column; }
    .logo { font-size: 24px; font-weight: bold; margin-bottom: 40px; }
    .left-title { font-size: 26px; font-weight: 700; line-height: 1.3; margin-bottom: 16px; }
    .left-desc { font-size: 14px; opacity: 0.8; line-height: 1.6; margin-bottom: 40px; }

    .steps-vertical { display: flex; flex-direction: column; gap: 0; margin-top: auto; }
    .step-v { display: flex; align-items: center; gap: 12px; padding: 10px 0; position: relative; }
    .step-v::before { content: ''; position: absolute; left: 14px; top: 36px; width: 2px; height: calc(100% - 6px); background: rgba(255,255,255,0.2); }
    .step-v:last-child::before { display: none; }
    .step-v .num { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600; background: rgba(255,255,255,0.2); position: relative; z-index: 1; }
    .step-v.done .num { background: #22c55e; }
    .step-v.active .num { background: white; color: #1e40af; }
    .step-v .label { font-size: 13px; opacity: 0.7; }
    .step-v.active .label { opacity: 1; font-weight: 600; }
    .step-v.done .label { opacity: 0.9; }

    .right-panel { flex: 1; padding: 32px; display: flex; flex-direction: column; overflow-y: auto; }
    .form-header { margin-bottom: 16px; }
    .form-header h1 { font-size: 24px; font-weight: 700; margin-bottom: 8px; color: #111827; }
    .form-header p { font-size: 14px; color: #6b7280; }

    /* íŒ¨ìŠ¤í‚¤ ì†Œê°œ ì¹´ë“œ */
    .intro-card { background: linear-gradient(135deg, #f0f9ff, #e0f2fe); border: 1px solid #bae6fd; border-radius: 16px; padding: 20px; margin-bottom: 16px; text-align: center; }
    .intro-card .icon { font-size: 40px; margin-bottom: 10px; }
    .intro-card h3 { font-size: 16px; font-weight: 600; margin-bottom: 8px; color: #0c4a6e; }
    .intro-card p { font-size: 13px; color: #475569; line-height: 1.6; }

    /* ì¥ì  ìš”ì•½ */
    .benefits-mini { display: flex; gap: 10px; margin-bottom: 16px; }
    .benefit-mini { flex: 1; display: flex; align-items: center; gap: 8px; padding: 10px 12px; background: #f9fafb; border-radius: 8px; }
    .benefit-mini .icon { font-size: 18px; }
    .benefit-mini .text { font-size: 12px; color: #374151; }
    .benefit-mini .text strong { display: block; color: #111827; font-size: 13px; }

    /* ì•„ì½”ë””ì–¸ (ìì„¸íˆ ë³´ê¸°) */
    .accordion { margin-bottom: 16px; }
    .accordion-header { display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: #f1f5f9; border-radius: 10px; cursor: pointer; transition: background 0.2s; }
    .accordion-header:hover { background: #e2e8f0; }
    .accordion-header span { font-size: 13px; color: #475569; font-weight: 500; }
    .accordion-header .arrow { font-size: 12px; transition: transform 0.2s; }
    .accordion.open .accordion-header .arrow { transform: rotate(180deg); }
    .accordion-content { display: none; padding: 16px; background: #f8fafc; border-radius: 0 0 10px 10px; margin-top: -6px; }
    .accordion.open .accordion-content { display: block; }
    .accordion-content p { font-size: 12px; color: #64748b; line-height: 1.7; margin-bottom: 10px; }
    .accordion-content ul { font-size: 12px; color: #64748b; line-height: 1.7; padding-left: 20px; }
    .accordion-content li { margin-bottom: 6px; }

    /* í”„ë¡œì„¸ìŠ¤ íƒ€ì„ë¼ì¸ */
    .process-timeline { display: flex; flex-direction: column; gap: 10px; margin-bottom: 16px; }
    .process-step { display: flex; gap: 14px; align-items: flex-start; padding: 14px; border-radius: 10px; background: #f8fafc; border: 2px solid #e2e8f0; transition: all 0.3s; }
    .process-step.active { background: #eff6ff; border-color: #3b82f6; }
    .process-step.done { background: #f0fdf4; border-color: #22c55e; }
    .process-step.pending { opacity: 0.6; }

    .step-indicator { width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 14px; flex-shrink: 0; background: #e2e8f0; color: #64748b; }
    .process-step.active .step-indicator { background: #3b82f6; color: white; }
    .process-step.done .step-indicator { background: #22c55e; color: white; }

    .step-content { flex: 1; }
    .step-content h4 { font-size: 13px; font-weight: 600; margin-bottom: 3px; color: #1e293b; }
    .step-content p { font-size: 11px; color: #64748b; line-height: 1.4; }

    .process-step.active .step-content h4 { color: #1e40af; }
    .process-step.done .step-content h4 { color: #166534; }

    /* í˜„ì¬ ìƒíƒœ ì¹´ë“œ */
    .status-card { background: linear-gradient(135deg, #1e40af, #3b82f6); border-radius: 14px; padding: 18px; color: white; margin-bottom: 14px; }
    .status-card h3 { font-size: 12px; opacity: 0.8; margin-bottom: 6px; }
    .status-card .main { font-size: 16px; font-weight: 600; display: flex; align-items: center; gap: 10px; }
    .status-card .main .icon { font-size: 22px; }
    .status-card .sub { font-size: 11px; opacity: 0.7; margin-top: 6px; }

    .register-btn { width: 100%; padding: 16px; background: linear-gradient(135deg, #8b5cf6, #6366f1); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 14px; transition: all 0.2s; }
    .register-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3); }
    .register-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

    .security-note { display: flex; align-items: flex-start; gap: 10px; padding: 12px 14px; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 10px; margin-bottom: 14px; }
    .security-note .icon { font-size: 16px; flex-shrink: 0; }
    .security-note .text { font-size: 11px; color: #166534; line-height: 1.5; }

    .btn-row { display: flex; gap: 12px; margin-top: auto; }
    .btn { flex: 1; padding: 14px 24px; border-radius: 10px; font-size: 15px; font-weight: 600; cursor: pointer; text-align: center; text-decoration: none; transition: all 0.2s; }
    .btn-secondary { background: white; border: 1px solid #e5e7eb; color: #374151; }
    .btn-primary { background: #3b82f6; border: none; color: white; }

    .nav-links { display: flex; gap: 10px; margin-top: 14px; flex-wrap: wrap; }
    .nav-links a { padding: 6px 12px; background: #f1f5f9; border-radius: 6px; text-decoration: none; color: #64748b; font-size: 12px; }
    .nav-links a:hover { background: #e2e8f0; }

    /* ë””ìì´ë„ˆ ë…¸íŠ¸ */
    .designer-note { background: linear-gradient(135deg, #fdf4ff, #fae8ff); border: 2px solid #d946ef; border-radius: 12px; padding: 16px; margin-top: 14px; }
    .designer-note h3 { color: #a21caf; margin-bottom: 10px; font-size: 13px; }
    .designer-note .content { font-size: 11px; color: #374151; line-height: 1.6; }
  </style>
</head>
<body>
  <div class="container">
    <div class="left-panel">
      <div class="logo">UniQdata</div>
      <div class="left-title">íŒ¨ìŠ¤í‚¤ + ì§€ê°‘ ë“±ë¡</div>
      <div class="left-desc">ìƒì²´ì¸ì¦ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë¡œê·¸ì¸í•˜ê³  XRPL ì§€ê°‘ì„ ë³´í˜¸í•©ë‹ˆë‹¤.</div>

      <div class="steps-vertical">
        <div class="step-v done"><div class="num">âœ“</div><div class="label">íšŒì› ìœ í˜•</div></div>
        <div class="step-v done"><div class="num">âœ“</div><div class="label">ì´ë©”ì¼ ì¸ì¦</div></div>
        <div class="step-v done"><div class="num">âœ“</div><div class="label">ë¹„ë°€ë²ˆí˜¸</div></div>
        <div class="step-v active"><div class="num">4</div><div class="label">íŒ¨ìŠ¤í‚¤ ë“±ë¡</div></div>
        <div class="step-v"><div class="num">5</div><div class="label">ë¸”ë¡ì²´ì¸ ì—°ë™</div></div>
        <div class="step-v"><div class="num">6</div><div class="label">ì™„ë£Œ</div></div>
      </div>
    </div>

    <div class="right-panel">
      <div class="form-header">
        <h1>íŒ¨ìŠ¤í‚¤ ë“±ë¡</h1>
        <p>ì§€ë¬¸/Face IDë¡œ ë¡œê·¸ì¸í•˜ê³  ë¸”ë¡ì²´ì¸ ì§€ê°‘ì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•©ë‹ˆë‹¤</p>
      </div>

      <!-- íŒ¨ìŠ¤í‚¤ ì†Œê°œ -->
      <div class="intro-card">
        <div class="icon">ğŸ”</div>
        <h3>íŒ¨ìŠ¤í‚¤ë€?</h3>
        <p>ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì§€ë¬¸/Face IDë¡œ ë¡œê·¸ì¸í•˜ëŠ” êµ­ì œ í‘œì¤€ ì¸ì¦ ë°©ì‹ì…ë‹ˆë‹¤.<br>Google, Apple, Microsoftê°€ í•¨ê»˜ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>
      </div>

      <!-- ì¥ì  ìš”ì•½ -->
      <div class="benefits-mini">
        <div class="benefit-mini">
          <span class="icon">ğŸ›¡ï¸</span>
          <div class="text"><strong>í”¼ì‹± ë¶ˆê°€</strong>ë„ìš© ìœ„í—˜ ì—†ìŒ</div>
        </div>
        <div class="benefit-mini">
          <span class="icon">âš¡</span>
          <div class="text"><strong>1ì´ˆ ë¡œê·¸ì¸</strong>ì¦‰ì‹œ ì¸ì¦</div>
        </div>
        <div class="benefit-mini">
          <span class="icon">ğŸ”—</span>
          <div class="text"><strong>ì§€ê°‘ ë³´í˜¸</strong>ì‹œë“œ ì•”í˜¸í™”</div>
        </div>
      </div>

      <!-- ìì„¸íˆ ë³´ê¸° ì•„ì½”ë””ì–¸ -->
      <div class="accordion" id="detailAccordion">
        <div class="accordion-header" onclick="toggleAccordion()">
          <span>ğŸ” ì™œ íŒ¨ìŠ¤í‚¤ë¡œ ì§€ê°‘ì„ ë³´í˜¸í•˜ë‚˜ìš”?</span>
          <span class="arrow">â–¼</span>
        </div>
        <div class="accordion-content">
          <p><strong>PRF (Pseudo Random Function)</strong>: íŒ¨ìŠ¤í‚¤ì—ì„œë§Œ ì¶”ì¶œ ê°€ëŠ¥í•œ ê³ ìœ  ì•”í˜¸í™” í‚¤</p>
          <ul>
            <li>XRPL ì§€ê°‘ ì‹œë“œë¥¼ PRF í‚¤ë¡œ ì•”í˜¸í™”</li>
            <li>íŒ¨ìŠ¤í‚¤ ì—†ì´ëŠ” ì‹œë“œ ë³µí˜¸í™” ë¶ˆê°€</li>
            <li>ì„œë²„ í•´í‚¹ë˜ì–´ë„ ì•”í˜¸í™”ëœ ì‹œë“œë§Œ ìœ ì¶œ (ì“¸ëª¨ì—†ìŒ)</li>
            <li>ì‚¬ìš©ìëŠ” íŒ¨ìŠ¤í‚¤ í•˜ë‚˜ë§Œ ê´€ë¦¬í•˜ë©´ ë¨</li>
          </ul>
        </div>
      </div>

      <!-- í”„ë¡œì„¸ìŠ¤ íƒ€ì„ë¼ì¸ -->
      <div class="process-timeline">
        <div class="process-step done">
          <div class="step-indicator">âœ“</div>
          <div class="step-content">
            <h4>1. XRPL ì§€ê°‘ ìƒì„±</h4>
            <p>ìƒˆ ì§€ê°‘ ì£¼ì†Œì™€ ì‹œë“œ(ê°œì¸í‚¤) ìë™ ìƒì„±</p>
          </div>
        </div>

        <div class="process-step active">
          <div class="step-indicator">2</div>
          <div class="step-content">
            <h4>2. ìƒì²´ì¸ì¦ + PRF ì¶”ì¶œ</h4>
            <p>íŒ¨ìŠ¤í‚¤ ë“±ë¡ ì‹œ ì•”í˜¸í™” í‚¤ ì¶”ì¶œ</p>
          </div>
        </div>

        <div class="process-step pending">
          <div class="step-indicator">3</div>
          <div class="step-content">
            <h4>3. ì‹œë“œ ì•”í˜¸í™” & ì €ì¥</h4>
            <p>PRF í‚¤ë¡œ ì•”í˜¸í™” í›„ ì„œë²„ ì €ì¥ (í‰ë¬¸ ì „ì†¡ X)</p>
          </div>
        </div>
      </div>

      <!-- í˜„ì¬ ìƒíƒœ -->
      <div class="status-card">
        <h3>í˜„ì¬ ìƒíƒœ</h3>
        <div class="main">
          <span class="icon">ğŸ‘†</span>
          <span>ìƒì²´ì¸ì¦ ëŒ€ê¸° ì¤‘</span>
        </div>
        <div class="sub">ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì§€ë¬¸/Face IDë¡œ ì¸ì¦í•©ë‹ˆë‹¤</div>
      </div>

      <button class="register-btn" onclick="startRegistration()">
        <span>ğŸ”</span> íŒ¨ìŠ¤í‚¤ ë“±ë¡í•˜ê¸°
      </button>

      <div class="security-note">
        <span class="icon">ğŸ”’</span>
        <span class="text">
          <strong>ë³´ì•ˆ ë³´ì¥:</strong> í‰ë¬¸ ì‹œë“œëŠ” ë¸Œë¼ìš°ì € ë°–ìœ¼ë¡œ ì ˆëŒ€ ì „ì†¡ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
          ì„œë²„ì—ëŠ” ì•”í˜¸í™”ëœ ì‹œë“œë§Œ ì €ì¥ë©ë‹ˆë‹¤.
        </span>
      </div>

      <div class="btn-row">
        <a href="signup-step3.html" class="btn btn-secondary">ì´ì „</a>
        <a href="signup-step5.html" class="btn btn-primary">ë‹¤ìŒ â†’</a>
      </div>

      <div class="nav-links">
        <a href="../index.html">â† ì™€ì´ì–´í”„ë ˆì„ ëª©ë¡</a>
        <a href="signup.html">Step 1</a>
        <a href="signup-step5.html">Step 5 â†’</a>
      </div>

      <!-- ë””ìì´ë„ˆ ë…¸íŠ¸ -->
      <div class="designer-note">
        <h3>ğŸ“‹ ë””ìì´ë„ˆ ë…¸íŠ¸: íŒ¨ìŠ¤í‚¤ ë“±ë¡ (í†µí•©)</h3>
        <div class="content">
          <strong>ê¸°ì¡´ Step 4 + 5 í†µí•©:</strong><br>
          â€¢ íŒ¨ìŠ¤í‚¤ ì„¤ëª…ê³¼ ë“±ë¡ì„ í•˜ë‚˜ë¡œ í•©ì³ UX ê°œì„ <br>
          â€¢ ê°„ëµí•œ ì†Œê°œ â†’ ìì„¸íˆ ë³´ê¸° ì•„ì½”ë””ì–¸ â†’ ë“±ë¡ ë²„íŠ¼<br>
          â€¢ ì •ë³´ ê³¼ë¶€í•˜ ë°©ì§€ + í•„ìš”ì‹œ ìƒì„¸ ì •ë³´ ì œê³µ<br><br>

          <strong>ì²˜ë¦¬ ìˆœì„œ:</strong><br>
          1. XRPL ì§€ê°‘ ìƒì„± (ì£¼ì†Œ+ì‹œë“œ)<br>
          2. ìƒì²´ì¸ì¦ + PRF í‚¤ ì¶”ì¶œ<br>
          3. ì‹œë“œ ì•”í˜¸í™” (AES-256-GCM) + ì„œë²„ ì €ì¥<br><br>

          <strong>ë³´ì•ˆ ì›ì¹™:</strong><br>
          â€¢ í‰ë¬¸ ì‹œë“œ: ë¸Œë¼ìš°ì € ë°–ìœ¼ë¡œ ì ˆëŒ€ ì „ì†¡ ì•ˆ í•¨<br>
          â€¢ PRF í‚¤: ì„œë²„ë¡œ ì „ì†¡ ì•ˆ í•¨ (í´ë¼ì´ì–¸íŠ¸ë§Œ)<br>
          â€¢ ì„œë²„ ì €ì¥: ì•”í˜¸í™”ëœ blobë§Œ
        </div>
      </div>

      <!-- ê¸°ëŠ¥ ëª…ì„¸ -->
      <div style="background: linear-gradient(135deg, #ecfdf5, #d1fae5); border: 2px solid #10b981; border-radius: 12px; padding: 16px; margin-top: 12px;">
        <h3 style="color: #047857; margin-bottom: 12px; font-size: 14px;">âš™ï¸ ê¸°ëŠ¥ ëª…ì„¸</h3>
        <div style="font-size: 12px; color: #374151; line-height: 1.8;">
          <strong>í•µì‹¬ ê¸°ëŠ¥:</strong><br>
          â€¢ íŒ¨ìŠ¤í‚¤ ê°œë… ì„¤ëª… (ê°„ëµ + ìƒì„¸ ì•„ì½”ë””ì–¸)<br>
          â€¢ XRPL ì§€ê°‘ ìƒì„± (Testnet/Mainnet)<br>
          â€¢ WebAuthn íŒ¨ìŠ¤í‚¤ ë“±ë¡ + PRF í™•ì¥<br>
          â€¢ PRF í‚¤ë¡œ ì§€ê°‘ ì‹œë“œ ì•”í˜¸í™” (AES-256-GCM)<br>
          â€¢ ì•”í˜¸í™”ëœ ì‹œë“œ ì„œë²„ ì €ì¥<br><br>

          <strong>ì²˜ë¦¬ ìˆœì„œ:</strong><br>
          1. XRPL ì§€ê°‘ ìƒì„± â†’ ì£¼ì†Œ + ì‹œë“œ íšë“<br>
          2. ì„œë²„ì—ì„œ WebAuthn ë“±ë¡ ì˜µì…˜ ìš”ì²­<br>
          3. navigator.credentials.create() + PRF extension<br>
          4. PRF ê²°ê³¼ì—ì„œ 32ë°”ì´íŠ¸ ì•”í˜¸í™” í‚¤ ì¶”ì¶œ<br>
          5. AES-256-GCMìœ¼ë¡œ ì‹œë“œ ì•”í˜¸í™”<br>
          6. credential + encrypted_seed ì„œë²„ ì „ì†¡
        </div>
      </div>

      <!-- ë°±ì—”ë“œ í˜¸ì¶œ -->
      <div style="background: linear-gradient(135deg, #f5f3ff, #ede9fe); border: 2px solid #8b5cf6; border-radius: 12px; padding: 16px; margin-top: 12px;">
        <h3 style="color: #6d28d9; margin-bottom: 12px; font-size: 14px;">ğŸ”— ë°±ì—”ë“œ í˜¸ì¶œ</h3>
        <div style="font-size: 11px; font-family: 'SF Mono', Monaco, monospace; color: #374151; line-height: 1.8;">

          <strong style="font-family: -apple-system, sans-serif;">1. XRPL ì§€ê°‘ ìƒì„± (í´ë¼ì´ì–¸íŠ¸):</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
// xrpl.js ì‚¬ìš© (í´ë¼ì´ì–¸íŠ¸)<br>
const wallet = xrpl.Wallet.generate()<br>
â†’ { classicAddress: "rN7n3...", seed: "sn3nxiW9v..." }
          </code>

          <strong style="font-family: -apple-system, sans-serif;">2. WebAuthn ë“±ë¡ ì˜µì…˜:</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
POST /api/v2/auth/webauthn/register-options<br>
{ "user_id": "temp_xxx", "email": "user@example.com" }<br>
â†’ { "challenge": "...", "rp": {...}, "extensions": { "prf": {} } }
          </code>

          <strong style="font-family: -apple-system, sans-serif;">3. íŒ¨ìŠ¤í‚¤ ë“±ë¡ + PRF:</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
// navigator.credentials.create() with PRF<br>
const prfKey = credential.getClientExtensionResults().prf.results.first
          </code>

          <strong style="font-family: -apple-system, sans-serif;">4. ì‹œë“œ ì•”í˜¸í™” + ë“±ë¡ ì™„ë£Œ:</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
POST /api/v2/auth/webauthn/register<br>
{<br>
&nbsp;&nbsp;"credential": {...},<br>
&nbsp;&nbsp;"xrpl_wallet": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"address": "rN7n3...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"encrypted_seed": "base64...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"encryption_iv": "base64..."<br>
&nbsp;&nbsp;}<br>
}<br>
â†’ { "success": true, "credential_id": "xxx" }
          </code>
        </div>
      </div>
    </div>
  </div>

  <script>
    function toggleAccordion() {
      document.getElementById('detailAccordion').classList.toggle('open');
    }

    function startRegistration() {
      // ì‹¤ì œ êµ¬í˜„ ì‹œ WebAuthn API í˜¸ì¶œ
      alert('ìƒì²´ì¸ì¦ íŒì—…ì´ í‘œì‹œë©ë‹ˆë‹¤ (ì‹¤ì œ êµ¬í˜„ ì‹œ)');
    }
  </script>
  <link rel="stylesheet" href="../tooltip-spec.css">
  <script src="../tooltip-spec.js"></script>
</body>
</html>
