<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>νμ›κ°€μ… Step 5 - ν¨μ¤ν‚¤ λ“±λ΅ - Wireframe</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, sans-serif; background: linear-gradient(135deg, #1e3a5f 0%, #0f172a 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 20px; }

    .container { display: flex; width: 950px; min-height: 700px; background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 25px 50px rgba(0,0,0,0.3); }

    .left-panel { width: 320px; background: linear-gradient(180deg, #1e40af 0%, #1e3a8a 100%); color: white; padding: 40px; display: flex; flex-direction: column; }
    .logo { font-size: 24px; font-weight: bold; margin-bottom: 40px; }
    .left-title { font-size: 26px; font-weight: 700; line-height: 1.3; margin-bottom: 16px; }
    .left-desc { font-size: 14px; opacity: 0.8; line-height: 1.6; margin-bottom: 40px; }

    .steps-vertical { display: flex; flex-direction: column; gap: 0; margin-top: auto; }
    .step-v { display: flex; align-items: center; gap: 12px; padding: 10px 0; position: relative; }
    .step-v::before { content: ''; position: absolute; left: 14px; top: 36px; width: 2px; height: calc(100% - 6px); background: rgba(255,255,255,0.2); }
    .step-v:last-child::before { display: none; }
    .step-v .num { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600; background: rgba(255,255,255,0.2); position: relative; z-index: 1; }
    .step-v.done .num { background: #22c55e; }
    .step-v.active .num { background: white; color: #1e40af; }
    .step-v .label { font-size: 13px; opacity: 0.7; }
    .step-v.active .label { opacity: 1; font-weight: 600; }
    .step-v.done .label { opacity: 0.9; }

    .right-panel { flex: 1; padding: 32px; display: flex; flex-direction: column; overflow-y: auto; }
    .form-header { margin-bottom: 16px; }
    .form-header h1 { font-size: 24px; font-weight: 700; margin-bottom: 8px; color: #111827; }
    .form-header p { font-size: 14px; color: #6b7280; }

    /* ν”„λ΅μ„Έμ¤ νƒ€μ„λΌμΈ */
    .process-timeline { display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px; }
    .process-step { display: flex; gap: 16px; align-items: flex-start; padding: 16px; border-radius: 12px; background: #f8fafc; border: 2px solid #e2e8f0; transition: all 0.3s; }
    .process-step.active { background: #eff6ff; border-color: #3b82f6; }
    .process-step.done { background: #f0fdf4; border-color: #22c55e; }
    .process-step.pending { opacity: 0.6; }

    .step-indicator { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 16px; flex-shrink: 0; background: #e2e8f0; color: #64748b; }
    .process-step.active .step-indicator { background: #3b82f6; color: white; }
    .process-step.done .step-indicator { background: #22c55e; color: white; }

    .step-content { flex: 1; }
    .step-content h4 { font-size: 14px; font-weight: 600; margin-bottom: 4px; color: #1e293b; }
    .step-content p { font-size: 12px; color: #64748b; line-height: 1.5; }
    .step-content .detail { font-size: 11px; color: #94a3b8; margin-top: 6px; font-family: monospace; background: #f1f5f9; padding: 6px 8px; border-radius: 4px; }

    .process-step.active .step-content h4 { color: #1e40af; }
    .process-step.done .step-content h4 { color: #166534; }

    /* ν„μ¬ μƒνƒ μΉ΄λ“ */
    .status-card { background: linear-gradient(135deg, #1e40af, #3b82f6); border-radius: 16px; padding: 20px; color: white; margin-bottom: 16px; }
    .status-card h3 { font-size: 14px; opacity: 0.8; margin-bottom: 8px; }
    .status-card .main { font-size: 18px; font-weight: 600; display: flex; align-items: center; gap: 10px; }
    .status-card .main .icon { font-size: 24px; }
    .status-card .sub { font-size: 12px; opacity: 0.7; margin-top: 8px; }

    .register-btn { width: 100%; padding: 16px; background: linear-gradient(135deg, #8b5cf6, #6366f1); color: white; border: none; border-radius: 12px; font-size: 16px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 16px; transition: all 0.2s; }
    .register-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3); }
    .register-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

    /* PRF μ„¤λ… */
    .prf-section { background: linear-gradient(135deg, #faf5ff, #f3e8ff); border: 1px solid #c4b5fd; border-radius: 12px; padding: 16px; margin-bottom: 16px; }
    .prf-section h4 { font-size: 14px; font-weight: 600; color: #6b21a8; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
    .prf-section p { font-size: 12px; color: #7c3aed; line-height: 1.6; }

    /* κΈ°μ  μƒμ„Έ */
    .tech-details { background: #f1f5f9; border-radius: 12px; padding: 16px; margin-bottom: 16px; }
    .tech-details h4 { font-size: 13px; font-weight: 600; color: #334155; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
    .tech-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e2e8f0; font-size: 12px; }
    .tech-row:last-child { border: none; }
    .tech-row .label { color: #64748b; }
    .tech-row .value { color: #1e293b; font-family: monospace; font-weight: 500; }
    .tech-row .value.success { color: #22c55e; }
    .tech-row .value.pending { color: #f59e0b; }

    .security-note { display: flex; align-items: flex-start; gap: 10px; padding: 12px 14px; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: 10px; margin-bottom: 16px; }
    .security-note .icon { font-size: 18px; flex-shrink: 0; }
    .security-note .text { font-size: 12px; color: #166534; line-height: 1.5; }

    .btn-row { display: flex; gap: 12px; margin-top: auto; }
    .btn { flex: 1; padding: 14px 24px; border-radius: 10px; font-size: 15px; font-weight: 600; cursor: pointer; text-align: center; text-decoration: none; transition: all 0.2s; }
    .btn-secondary { background: white; border: 1px solid #e5e7eb; color: #374151; }
    .btn-primary { background: #3b82f6; border: none; color: white; }

    .nav-links { display: flex; gap: 10px; margin-top: 16px; flex-wrap: wrap; }
    .nav-links a { padding: 6px 12px; background: #f1f5f9; border-radius: 6px; text-decoration: none; color: #64748b; font-size: 12px; }
    .nav-links a:hover { background: #e2e8f0; }

    /* λ””μμ΄λ„ λ…ΈνΈ */
    .designer-note { background: linear-gradient(135deg, #fdf4ff, #fae8ff); border: 2px solid #d946ef; border-radius: 12px; padding: 16px; margin-top: 16px; }
    .designer-note h3 { color: #a21caf; margin-bottom: 10px; font-size: 13px; }
    .designer-note .content { font-size: 11px; color: #374151; line-height: 1.6; }
  </style>
</head>
<body>
  <div class="container">
    <div class="left-panel">
      <div class="logo">UniQdata</div>
      <div class="left-title">μ§€κ°‘ μƒμ„± + ν¨μ¤ν‚¤ λ“±λ΅</div>
      <div class="left-desc">XRPL μ§€κ°‘μ„ λ¨Όμ € μƒμ„±ν•κ³ , ν¨μ¤ν‚¤μ PRFλ΅ μ‹λ“λ¥Ό μ•”νΈν™”ν•©λ‹λ‹¤.</div>

      <div class="steps-vertical">
        <div class="step-v done"><div class="num">β“</div><div class="label">νμ› μ ν•</div></div>
        <div class="step-v done"><div class="num">β“</div><div class="label">μ΄λ©”μΌ μΈμ¦</div></div>
        <div class="step-v done"><div class="num">β“</div><div class="label">λΉ„λ°€λ²νΈ</div></div>
        <div class="step-v done"><div class="num">β“</div><div class="label">ν¨μ¤ν‚¤ μ•λ‚΄</div></div>
        <div class="step-v active"><div class="num">5</div><div class="label">ν¨μ¤ν‚¤ λ“±λ΅</div></div>
        <div class="step-v"><div class="num">6</div><div class="label">λΈ”λ΅μ²΄μΈ μ—°λ™</div></div>
        <div class="step-v"><div class="num">7</div><div class="label">μ™„λ£</div></div>
      </div>
    </div>

    <div class="right-panel">
      <div class="form-header">
        <h1>μ§€κ°‘ + ν¨μ¤ν‚¤ λ“±λ΅</h1>
        <p>XRPL μ§€κ°‘ μƒμ„± β†’ PRF μ¶”μ¶ β†’ μ‹λ“ μ•”νΈν™” μμ„λ΅ μ§„ν–‰λ©λ‹λ‹¤</p>
      </div>

      <!-- ν”„λ΅μ„Έμ¤ νƒ€μ„λΌμΈ (μ¬λ°”λ¥Έ μμ„) -->
      <div class="process-timeline">
        <div class="process-step done">
          <div class="step-indicator">β“</div>
          <div class="step-content">
            <h4>1. XRPL μ§€κ°‘ μƒμ„±</h4>
            <p>ν…μ¤νΈλ„·μ—μ„ μƒλ΅μ΄ XRPL μ§€κ°‘ μ£Όμ†μ™€ μ‹λ“(κ°μΈν‚¤) μƒμ„±</p>
            <div class="detail">Address: rN7n3...Kx9Pm | Seed: sn3nxiW9v...μƒμ„±λ¨</div>
          </div>
        </div>

        <div class="process-step active">
          <div class="step-indicator">2</div>
          <div class="step-content">
            <h4>2. μƒμ²΄μΈμ¦ + PRF μ¶”μ¶</h4>
            <p>ν¨μ¤ν‚¤ λ“±λ΅ μ‹ PRF ν™•μ¥μΌλ΅ 32λ°”μ΄νΈ μ•”νΈν™” ν‚¤ μ¶”μ¶</p>
            <div class="detail">PRF Key: μƒμ²΄μΈμ¦ ν›„ μ¶”μ¶ λ€κΈ°...</div>
          </div>
        </div>

        <div class="process-step pending">
          <div class="step-indicator">3</div>
          <div class="step-content">
            <h4>3. μ‹λ“ μ•”νΈν™” (AES-256-GCM)</h4>
            <p>PRF ν‚¤λ΅ μ§€κ°‘ μ‹λ“λ¥Ό μ•”νΈν™”ν•μ—¬ μ„λ²„ μ €μ¥</p>
            <div class="detail">Encrypted Seed: λ€κΈ° μ¤‘...</div>
          </div>
        </div>

        <div class="process-step pending">
          <div class="step-indicator">4</div>
          <div class="step-content">
            <h4>4. μ•”νΈν™”λ μ‹λ“ μ €μ¥</h4>
            <p>μ•”νΈν™”λ μ‹λ“λ§ μ„λ²„μ— μ €μ¥ (ν‰λ¬Έ μ‹λ“λ” μ €μ¥ μ• ν•¨)</p>
            <div class="detail">Server: μ•”νΈν™”λ λ°μ΄ν„° λ€κΈ° μ¤‘...</div>
          </div>
        </div>
      </div>

      <!-- ν„μ¬ μƒνƒ -->
      <div class="status-card">
        <h3>ν„μ¬ μƒνƒ</h3>
        <div class="main">
          <span class="icon">π‘†</span>
          <span>μƒμ²΄μΈμ¦ λ€κΈ° μ¤‘</span>
        </div>
        <div class="sub">λ²„νΌμ„ ν΄λ¦­ν•λ©΄ μ§€λ¬Έ/Face IDλ΅ μΈμ¦ν•κ³  PRF ν‚¤λ¥Ό μ¶”μ¶ν•©λ‹λ‹¤</div>
      </div>

      <button class="register-btn">
        <span>π”</span> ν¨μ¤ν‚¤ λ“±λ΅ + μ‹λ“ μ•”νΈν™”
      </button>

      <!-- PRF μ„¤λ… -->
      <div class="prf-section">
        <h4>π”‘ μ™ PRFλ΅ μ•”νΈν™”ν•λ‚μ”?</h4>
        <p>
          <strong>PRF (Pseudo Random Function)</strong>: ν¨μ¤ν‚¤μ—μ„λ§ μ¶”μ¶ κ°€λ¥ν• κ³ μ  ν‚¤<br>
          β€Ά ν¨μ¤ν‚¤ μ—†μ΄λ” μ‹λ“ λ³µνΈν™” λ¶κ°€<br>
          β€Ά μ„λ²„κ°€ ν•΄ν‚Ήλ‹Ήν•΄λ„ μ•”νΈν™”λ μ‹λ“λ§ μ μ¶ (μ“Έλ¨μ—†μ)<br>
          β€Ά μ‚¬μ©μλ” ν¨μ¤ν‚¤ ν•λ‚λ§ κ΄€λ¦¬ν•λ©΄ λ¨
        </p>
      </div>

      <!-- κΈ°μ  μƒμ„Έ -->
      <div class="tech-details">
        <h4>β™οΈ κΈ°μ  μƒμ„Έ</h4>
        <div class="tech-row">
          <span class="label">XRPL λ„¤νΈμ›ν¬</span>
          <span class="value">Testnet (devnet.xrpl.org)</span>
        </div>
        <div class="tech-row">
          <span class="label">μ§€κ°‘ μƒμ„±</span>
          <span class="value success">β“ μ™„λ£</span>
        </div>
        <div class="tech-row">
          <span class="label">PRF μ§€μ›</span>
          <span class="value success">β“ κ°€λ¥ (Chrome 120)</span>
        </div>
        <div class="tech-row">
          <span class="label">μ•”νΈν™” μ•κ³ λ¦¬μ¦</span>
          <span class="value">AES-256-GCM</span>
        </div>
        <div class="tech-row">
          <span class="label">PRF μ¶”μ¶</span>
          <span class="value pending">λ€κΈ° μ¤‘...</span>
        </div>
      </div>

      <div class="security-note">
        <span class="icon">π”’</span>
        <span class="text">
          <strong>λ³΄μ• λ³΄μ¥:</strong> ν‰λ¬Έ μ‹λ“λ” λΈλΌμ°μ € λ°–μΌλ΅ μ „μ†΅λμ§€ μ•μµλ‹λ‹¤.
          PRF ν‚¤λ” ν¨μ¤ν‚¤ μΈμ¦ μ‹μ—λ§ μ¶”μ¶λλ©°, μ„λ²„μ—λ” μ•”νΈν™”λ μ‹λ“λ§ μ €μ¥λ©λ‹λ‹¤.
        </span>
      </div>

      <div class="btn-row">
        <a href="signup-step4.html" class="btn btn-secondary">μ΄μ „</a>
        <a href="signup-step6.html" class="btn btn-primary">λ‹¤μ β†’</a>
      </div>

      <div class="nav-links">
        <a href="../index.html">β† μ™€μ΄μ–΄ν”„λ μ„ λ©λ΅</a>
        <a href="signup.html">Step 1</a>
        <a href="signup-step6.html">Step 6 β†’</a>
      </div>

      <!-- λ””μμ΄λ„ λ…ΈνΈ -->
      <div class="designer-note">
        <h3>π“‹ λ””μμ΄λ„ λ…ΈνΈ: μ§€κ°‘ + ν¨μ¤ν‚¤ λ“±λ΅</h3>
        <div class="content">
          <strong>μ¬λ°”λ¥Έ μμ„ (μμ •λ¨):</strong><br>
          1. <strong>XRPL μ§€κ°‘ μƒμ„±</strong>: ν…μ¤νΈλ„·μ—μ„ μ£Όμ†+μ‹λ“ μƒμ„±<br>
          2. <strong>μƒμ²΄μΈμ¦ + PRF μ¶”μ¶</strong>: ν¨μ¤ν‚¤ λ“±λ΅ μ‹ PRF ν‚¤ μ¶”μ¶<br>
          3. <strong>μ‹λ“ μ•”νΈν™”</strong>: PRF ν‚¤λ΅ μ‹λ“λ¥Ό AES-256-GCM μ•”νΈν™”<br>
          4. <strong>μ•”νΈν™”λ μ‹λ“ μ €μ¥</strong>: μ„λ²„μ— μ•”νΈν™”λ λ°μ΄ν„°λ§ μ „μ†΅<br><br>

          <strong>μ™ μ΄ μμ„μΈκ°€?</strong><br>
          β€Ά μ§€κ°‘(μ‹λ“)μ΄ λ¨Όμ € μμ–΄μ•Ό μ•”νΈν™”ν•  λ€μƒμ΄ μμ<br>
          β€Ά PRFλ” μ•”νΈν™” "ν‚¤"λ¥Ό μ κ³µν•λ” μ—­ν• <br>
          β€Ά μμ„: λ°μ΄ν„°(μ‹λ“) β†’ ν‚¤(PRF) β†’ μ•”νΈν™” β†’ μ €μ¥<br><br>

          <strong>λ³΄μ• ν¬μΈνΈ:</strong><br>
          β€Ά ν‰λ¬Έ μ‹λ“λ” μ λ€ μ„λ²„λ΅ μ „μ†΅ μ• ν•¨<br>
          β€Ά PRF ν‚¤λ„ μ„λ²„λ΅ μ „μ†΅ μ• ν•¨<br>
          β€Ά μ„λ²„μ—λ” μ•”νΈν™”λ blobλ§ μ €μ¥
        </div>
      </div>

      <!-- κΈ°λ¥ λ…μ„Έ -->
      <div style="background: linear-gradient(135deg, #ecfdf5, #d1fae5); border: 2px solid #10b981; border-radius: 12px; padding: 16px; margin-top: 12px;">
        <h3 style="color: #047857; margin-bottom: 12px; font-size: 14px;">β™οΈ κΈ°λ¥ λ…μ„Έ</h3>
        <div style="font-size: 12px; color: #374151; line-height: 1.8;">
          <strong>ν•µμ‹¬ κΈ°λ¥:</strong><br>
          β€Ά XRPL μ§€κ°‘ μƒμ„± (Testnet/Mainnet)<br>
          β€Ά WebAuthn ν¨μ¤ν‚¤ λ“±λ΅ + PRF ν™•μ¥ (prf extension)<br>
          β€Ά PRF ν‚¤λ΅ μ§€κ°‘ μ‹λ“ μ•”νΈν™” (AES-256-GCM)<br>
          β€Ά μ•”νΈν™”λ μ‹λ“ μ„λ²„ μ €μ¥ (ν‰λ¬Έ μ‹λ“λ” μ „μ†΅ μ• ν•¨)<br><br>

          <strong>μ²λ¦¬ μμ„:</strong><br>
          1. XRPL μ§€κ°‘ μƒμ„± β†’ μ£Όμ†(rAddress) + μ‹λ“(sXXX...) νλ“<br>
          2. μ„λ²„μ—μ„ WebAuthn λ“±λ΅ μµμ… μ”μ²­ (challenge ν¬ν•¨)<br>
          3. navigator.credentials.create() νΈμ¶ + PRF extension<br>
          4. PRF κ²°κ³Όμ—μ„ 32λ°”μ΄νΈ μ•”νΈν™” ν‚¤ μ¶”μ¶<br>
          5. ν΄λΌμ΄μ–ΈνΈμ—μ„ AES-256-GCMμΌλ΅ μ‹λ“ μ•”νΈν™”<br>
          6. credential + encrypted_seed + iv + wallet_address μ„λ²„ μ „μ†΅<br><br>

          <strong>λ³΄μ• μ›μΉ™:</strong><br>
          β€Ά ν‰λ¬Έ μ‹λ“λ” λΈλΌμ°μ € λ°–μΌλ΅ μ λ€ μ „μ†΅ μ• ν•¨<br>
          β€Ά PRF ν‚¤λ„ μ„λ²„λ΅ μ „μ†΅ μ• ν•¨ (ν΄λΌμ΄μ–ΈνΈμ—μ„λ§ μ‚¬μ©)<br>
          β€Ά μ„λ²„μ—λ” μ•”νΈν™”λ blobλ§ μ €μ¥<br>
          β€Ά λ³µνΈν™”λ” ν¨μ¤ν‚¤ μΈμ¦ μ‹μ—λ§ κ°€λ¥
        </div>
      </div>

      <!-- λ°±μ—”λ“ νΈμ¶ -->
      <div style="background: linear-gradient(135deg, #f5f3ff, #ede9fe); border: 2px solid #8b5cf6; border-radius: 12px; padding: 16px; margin-top: 12px;">
        <h3 style="color: #6d28d9; margin-bottom: 12px; font-size: 14px;">π”— λ°±μ—”λ“ νΈμ¶</h3>
        <div style="font-size: 11px; font-family: 'SF Mono', Monaco, monospace; color: #374151; line-height: 1.8;">

          <strong style="font-family: -apple-system, sans-serif;">1. XRPL μ§€κ°‘ μƒμ„± (ν΄λΌμ΄μ–ΈνΈ):</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
// xrpl.js λΌμ΄λΈλ¬λ¦¬ μ‚¬μ© (ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“)<br>
const wallet = xrpl.Wallet.generate()<br>
β†’ { classicAddress: "rN7n3...Kx9Pm", seed: "sn3nxiW9v..." }<br>
// μ‹λ“λ” λ©”λ¨λ¦¬μ—λ§ λ³΄κ΄€, μ„λ²„ μ „μ†΅ X
          </code>

          <strong style="font-family: -apple-system, sans-serif;">2. WebAuthn λ“±λ΅ μµμ… μ”μ²­:</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
POST /api/v2/auth/webauthn/register-options<br>
{ "user_id": "temp_xxx", "email": "user@example.com", "display_name": "κΉ€μ—°κµ¬" }<br>
β†’ {<br>
&nbsp;&nbsp;"challenge": "base64url...",<br>
&nbsp;&nbsp;"rp": { "name": "UniQdata", "id": "uniqdata.io" },<br>
&nbsp;&nbsp;"user": { "id": "base64url...", "name": "user@example.com", "displayName": "κΉ€μ—°κµ¬" },<br>
&nbsp;&nbsp;"pubKeyCredParams": [{ "type": "public-key", "alg": -7 }, { "alg": -257 }],<br>
&nbsp;&nbsp;"authenticatorSelection": { "residentKey": "required", "userVerification": "required" },<br>
&nbsp;&nbsp;"extensions": { "prf": {} }<br>
}
          </code>

          <strong style="font-family: -apple-system, sans-serif;">3. ν΄λΌμ΄μ–ΈνΈ: ν¨μ¤ν‚¤ λ“±λ΅ + PRF μ¶”μ¶:</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
// navigator.credentials.create() νΈμ¶<br>
const credential = await navigator.credentials.create({<br>
&nbsp;&nbsp;publicKey: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;...options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;extensions: {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prf: { eval: { first: new TextEncoder().encode("uniqdata-wallet-encryption") } }<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
})<br>
<br>
// PRF κ²°κ³Όμ—μ„ μ•”νΈν™” ν‚¤ μ¶”μ¶<br>
const prfResult = credential.getClientExtensionResults().prf<br>
const encryptionKey = prfResult.results.first // 32 bytes
          </code>

          <strong style="font-family: -apple-system, sans-serif;">4. ν΄λΌμ΄μ–ΈνΈ: μ‹λ“ μ•”νΈν™” (AES-256-GCM):</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
// Web Crypto API μ‚¬μ©<br>
const iv = crypto.getRandomValues(new Uint8Array(12)) // 12 bytes IV<br>
const key = await crypto.subtle.importKey("raw", encryptionKey, "AES-GCM", false, ["encrypt"])<br>
const encrypted = await crypto.subtle.encrypt(<br>
&nbsp;&nbsp;{ name: "AES-GCM", iv },<br>
&nbsp;&nbsp;key,<br>
&nbsp;&nbsp;new TextEncoder().encode(wallet.seed)<br>
)<br>
// encrypted = μ•”νΈν™”λ μ‹λ“, iv = μ΄κΈ°ν™” λ²΅ν„°
          </code>

          <strong style="font-family: -apple-system, sans-serif;">5. ν¨μ¤ν‚¤ + μ•”νΈν™”λ μ‹λ“ λ“±λ΅ μ™„λ£:</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
POST /api/v2/auth/webauthn/register<br>
{<br>
&nbsp;&nbsp;"credential": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"id": "base64url...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"rawId": "base64url...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"type": "public-key",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"response": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"clientDataJSON": "base64url...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"attestationObject": "base64url..."<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"xrpl_wallet": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"address": "rN7n3...Kx9Pm",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"encrypted_seed": "base64...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"encryption_iv": "base64...",<br>
&nbsp;&nbsp;&nbsp;&nbsp;"encryption_algo": "AES-256-GCM"<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"prf_salt": "uniqdata-wallet-encryption"<br>
}<br>
β†’ {<br>
&nbsp;&nbsp;"success": true,<br>
&nbsp;&nbsp;"credential_id": "cred_xxx",<br>
&nbsp;&nbsp;"wallet_address": "rN7n3...Kx9Pm",<br>
&nbsp;&nbsp;"user_id": "user_xxx"<br>
}
          </code>

          <strong style="font-family: -apple-system, sans-serif;">6. μ„λ²„ μ €μ¥ κµ¬μ΅°:</strong><br>
          <code style="background: #1f2937; color: #a5b4fc; padding: 6px 10px; border-radius: 6px; display: block; margin: 6px 0;">
// DB μ €μ¥ (users ν…μ΄λΈ”)<br>
{<br>
&nbsp;&nbsp;user_id, email, password_hash,<br>
&nbsp;&nbsp;xrpl_address: "rN7n3...Kx9Pm",<br>
&nbsp;&nbsp;encrypted_seed: "base64...",  // PRF μ—†μΌλ©΄ λ³µνΈν™” λ¶κ°€<br>
&nbsp;&nbsp;encryption_iv: "base64...",<br>
&nbsp;&nbsp;prf_salt: "uniqdata-wallet-encryption"<br>
}<br>
<br>
// DB μ €μ¥ (passkeys ν…μ΄λΈ”)<br>
{<br>
&nbsp;&nbsp;credential_id, user_id, public_key,<br>
&nbsp;&nbsp;sign_count, transports, created_at<br>
}
          </code>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
