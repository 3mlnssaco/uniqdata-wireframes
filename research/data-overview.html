<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì—°êµ¬ ìƒì„¸ - Wireframe</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, sans-serif; background: #f5f5f5; }
    .layout { display: flex; min-height: 100vh; }
    .sidebar { width: 260px; background: #1a1a1a; color: white; padding: 16px 12px; display: flex; flex-direction: column; }
    .logo { font-size: 18px; font-weight: bold; margin-bottom: 20px; padding: 10px; }
    .nav-section { margin-bottom: 8px; }
    .nav-item { display: flex; align-items: center; gap: 12px; padding: 10px 12px; border-radius: 8px; margin-bottom: 4px; color: #9ca3af; text-decoration: none; font-size: 13px; transition: all 0.15s; }
    .nav-item:hover { background: #252525; color: #ccc; }
    .nav-item.active { background: #3b82f6; color: white; }
    .nav-item .icon { width: 18px; text-align: center; font-size: 14px; }
    .nav-project { margin-top: 8px; padding-top: 12px; border-top: 1px solid #2a2a2a; }
    .nav-project-header { display: flex; align-items: center; gap: 8px; padding: 8px 12px; color: #666; font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
    .nav-project-name { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: 8px; background: #252525; margin-bottom: 8px; color: #fff; font-size: 12px; font-weight: 500; cursor: pointer; border: 1px solid #333; }
    .nav-project-name:hover { border-color: #3b82f6; }
    .nav-project-name .folder { color: #3b82f6; }
    .nav-sub { padding-left: 12px; border-left: 2px solid #2a2a2a; margin-left: 20px; }
    .nav-sub-item { display: flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 6px; color: #777; font-size: 12px; cursor: pointer; transition: all 0.15s; text-decoration: none; margin-bottom: 2px; }
    .nav-sub-item:hover { background: #252525; color: #ccc; }
    .nav-sub-item.active { background: rgba(59, 130, 246, 0.15); color: #60a5fa; border-left: 2px solid #3b82f6; margin-left: -2px; padding-left: 14px; }
    .nav-sub-item .dot { width: 6px; height: 6px; border-radius: 50%; background: currentColor; opacity: 0.5; }
    .nav-sub-item.active .dot { background: #3b82f6; opacity: 1; }
    .nav-divider { height: 1px; background: #2a2a2a; margin: 12px 12px; }
    .nav-sub-label { font-size: 10px; color: #555; font-weight: 600; padding: 6px 12px; text-transform: uppercase; letter-spacing: 0.5px; }

    /* ì—°êµ¬ ë„¤ë¹„ê²Œì´ì…˜ */
    .research-nav-item { margin-bottom: 2px; }
    .research-nav-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 12px;
      color: #888;
      transition: all 0.15s;
    }
    .research-nav-header:hover { background: #252525; color: #ccc; }
    .research-nav-item.expanded .research-nav-header { background: rgba(59, 130, 246, 0.1); color: #60a5fa; }
    .folder-icon { font-size: 13px; }
    .research-title { flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .status-dot { width: 7px; height: 7px; border-radius: 50%; flex-shrink: 0; }
    .status-dot.active { background: #22c55e; }
    .status-dot.recruiting { background: #3b82f6; }
    .status-dot.draft { background: #6b7280; }
    .research-nav-sub {
      display: none;
      padding-left: 20px;
      margin-top: 4px;
      border-left: 2px solid #333;
      margin-left: 18px;
    }
    .research-nav-item.expanded .research-nav-sub { display: block; }
    .research-nav-item.collapsed .research-nav-sub { display: none; }
    .nav-sub-divider { height: 1px; background: #333; margin: 8px 0; }
    .main { flex: 1; }
    .header { background: white; padding: 16px 24px; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center; }
    .content { padding: 24px; }

    .breadcrumb { display: flex; align-items: center; gap: 8px; margin-bottom: 16px; font-size: 14px; color: #6b7280; }
    .breadcrumb a { color: #3b82f6; text-decoration: none; }

    h1 { font-size: 24px; margin-bottom: 8px; }
    .subtitle { color: #6b7280; margin-bottom: 24px; }

    .title-row { display: flex; align-items: flex-start; justify-content: space-between; gap: 20px; margin-bottom: 20px; }
    .title-block { flex: 1; min-width: 0; }
    .title-row .subtitle { margin-bottom: 0; }
    .top-insight { width: 320px; background: #eff6ff; border: 1px solid #3b82f6; border-radius: 12px; padding: 16px; }
    .top-insight h3 { color: #1e40af; margin-bottom: 12px; font-size: 14px; }
    @media (max-width: 1200px) {
      .title-row { flex-direction: column; }
      .top-insight { width: 100%; }
      .title-row .subtitle { margin-bottom: 8px; }
    }

    /* íƒ­ ë„¤ë¹„ê²Œì´ì…˜ */
    .tabs { display: flex; gap: 4px; border-bottom: 1px solid #e5e7eb; margin-bottom: 24px; }
    .tab { padding: 12px 20px; font-size: 14px; color: #6b7280; cursor: pointer; border-bottom: 2px solid transparent; margin-bottom: -1px; }
    .tab.active { color: #3b82f6; border-bottom-color: #3b82f6; font-weight: 500; }
    .tab:hover { color: #374151; }

    /* KPI ì¹´ë“œ ê·¸ë¦¬ë“œ */
    .kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
    .kpi-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px; }
    .kpi-card .label { font-size: 13px; color: #6b7280; margin-bottom: 8px; }
    .kpi-card .value { font-size: 28px; font-weight: 700; margin-bottom: 4px; }
    .kpi-card .sub { font-size: 12px; color: #9ca3af; }
    .kpi-card .change { font-size: 12px; }
    .kpi-card .change.up { color: #22c55e; }
    .kpi-card .change.down { color: #ef4444; }
    .kpi-card.highlight { background: linear-gradient(135deg, #3b82f6, #1d4ed8); color: white; }
    .kpi-card.highlight .label { color: rgba(255,255,255,0.8); }
    .kpi-card.highlight .sub { color: rgba(255,255,255,0.7); }

    /* ì°¨íŠ¸ ì˜ì—­ */
    .chart-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 16px; margin-bottom: 24px; }
    .chart-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px; }
    .chart-card h3 { font-size: 16px; margin-bottom: 16px; display: flex; justify-content: space-between; align-items: center; }
    .chart-card h3 .filter { font-size: 12px; color: #6b7280; font-weight: normal; padding: 4px 12px; background: #f3f4f6; border-radius: 4px; cursor: pointer; }

    /* ì°¸ì—¬ì ë“±ë¡ ì°¨íŠ¸ (ê°€ìƒ) */
    .enrollment-chart { height: 200px; position: relative; }
    .enrollment-chart .y-axis { position: absolute; left: 0; top: 0; bottom: 30px; width: 40px; display: flex; flex-direction: column; justify-content: space-between; font-size: 11px; color: #9ca3af; }
    .enrollment-chart .x-axis { position: absolute; bottom: 0; left: 50px; right: 0; height: 30px; display: flex; justify-content: space-between; font-size: 11px; color: #9ca3af; }
    .enrollment-chart .chart-area { position: absolute; left: 50px; right: 0; top: 0; bottom: 30px; }
    .enrollment-chart .line { position: absolute; bottom: 0; left: 0; right: 0; height: 100%; background: linear-gradient(to top, rgba(59, 130, 246, 0.1), transparent); border-top: 2px solid #3b82f6; clip-path: polygon(0% 90%, 10% 75%, 20% 60%, 30% 50%, 40% 45%, 50% 40%, 60% 35%, 70% 28%, 80% 22%, 90% 18%, 100% 15%, 100% 100%, 0% 100%); }
    .enrollment-chart .target-line { position: absolute; top: 15%; left: 0; right: 0; border-top: 2px dashed #22c55e; }
    .enrollment-chart .target-label { position: absolute; top: 12%; right: 0; font-size: 11px; color: #22c55e; }

    /* ë°ì´í„° ìˆ˜ì§‘ë¥  ë„ë„› */
    .donut-container { display: flex; align-items: center; gap: 24px; }
    .donut { width: 120px; height: 120px; border-radius: 50%; background: conic-gradient(#22c55e 0% 85%, #e5e7eb 85% 100%); position: relative; display: flex; align-items: center; justify-content: center; }
    .donut::before { content: ''; width: 80px; height: 80px; background: white; border-radius: 50%; position: absolute; }
    .donut .percent { position: relative; font-size: 24px; font-weight: 700; }
    .donut-legend { font-size: 13px; }
    .donut-legend .item { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .donut-legend .dot { width: 10px; height: 10px; border-radius: 50%; }
    .donut-legend .dot.complete { background: #22c55e; }
    .donut-legend .dot.partial { background: #fbbf24; }
    .donut-legend .dot.missing { background: #e5e7eb; }

    /* ë°ì´í„° ìœ í˜•ë³„ í˜„í™© */
    .data-status-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 12px; }
    .data-status-item { background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; text-align: center; }
    .data-status-item .icon { font-size: 24px; margin-bottom: 8px; }
    .data-status-item .name { font-size: 13px; font-weight: 500; margin-bottom: 4px; }
    .data-status-item .count { font-size: 18px; font-weight: 700; color: #3b82f6; }
    .data-status-item .rate { font-size: 11px; color: #6b7280; }
    .data-status-item.excellent { border-color: #22c55e; background: #f0fdf4; }
    .data-status-item.good { border-color: #3b82f6; background: #eff6ff; }
    .data-status-item.warning { border-color: #fbbf24; background: #fefce8; }

    /* ì¼ë³„ ìˆ˜ì§‘ íˆíŠ¸ë§µ */
    .heatmap-card { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px; }
    .heatmap-card h3 { font-size: 16px; margin-bottom: 16px; }
    .heatmap-grid { display: flex; gap: 4px; flex-wrap: wrap; }
    .heatmap-cell { width: 20px; height: 20px; border-radius: 4px; }
    .heatmap-cell.l0 { background: #f3f4f6; }
    .heatmap-cell.l1 { background: #dbeafe; }
    .heatmap-cell.l2 { background: #93c5fd; }
    .heatmap-cell.l3 { background: #3b82f6; }
    .heatmap-cell.l4 { background: #1d4ed8; }
    .heatmap-legend { display: flex; align-items: center; gap: 8px; margin-top: 12px; font-size: 11px; color: #6b7280; }

    .note { background: #fef3c7; border: 1px solid #fcd34d; padding: 12px; border-radius: 8px; font-size: 13px; margin-top: 24px; }
    .step-nav { display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap; }
    .step-nav a { padding: 8px 16px; background: #eee; border-radius: 6px; text-decoration: none; color: #333; font-size: 14px; }

    .spec-section { display: grid; gap: 12px; margin-top: 24px; }
    .spec-card { border-radius: 12px; padding: 20px; border: 1px solid #e5e7eb; background: #fff; }
    .spec-card.green { background: linear-gradient(135deg, #ecfdf5, #d1fae5); border-color: #10b981; }
    .spec-card.purple { background: linear-gradient(135deg, #f5f3ff, #ede9fe); border-color: #8b5cf6; }
    .spec-card h3 { margin-bottom: 12px; font-size: 14px; }
    .spec-card .spec-text { font-size: 12px; color: #374151; line-height: 1.8; }
    .spec-card code { background: #0f172a; color: #a5b4fc; padding: 8px 12px; border-radius: 6px; display: block; margin: 6px 0; font-size: 11px; }
    .spec-card details { margin-top: 10px; }
    .spec-card summary { cursor: pointer; font-weight: 600; color: inherit; }

    /* ë¶„ì„ í—ˆë¸Œ */
    .hub-section { margin: 20px 0 24px; }
    .hub-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; }
    .hub-title { font-size: 16px; font-weight: 600; }
    .hub-sub { font-size: 12px; color: #6b7280; }
    .hub-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
    .hub-card { background: white; border: 1px solid #e5e7eb; border-radius: 10px; padding: 14px; display: flex; gap: 10px; align-items: center; text-decoration: none; color: inherit; transition: all 0.15s; }
    .hub-card:hover { border-color: #3b82f6; box-shadow: 0 4px 10px rgba(59,130,246,0.08); }
    .hub-icon { width: 36px; height: 36px; border-radius: 8px; background: #eff6ff; display: flex; align-items: center; justify-content: center; font-size: 18px; }
    .hub-name { font-size: 14px; font-weight: 600; }
    .hub-desc { font-size: 11px; color: #6b7280; margin-top: 2px; }

    /* AI ì¸ì‚¬ì´íŠ¸ */
    .insight-card { background: #eff6ff; border: 1px solid #3b82f6; border-radius: 12px; padding: 20px; margin-bottom: 24px; }
    .insight-card h3 { color: #1e40af; margin-bottom: 12px; font-size: 16px; }
    .insight-item { display: flex; gap: 10px; padding: 10px 0; border-bottom: 1px solid #dbeafe; font-size: 14px; }
    .insight-item:last-child { border-bottom: none; }
    .insight-item .icon { font-size: 16px; }
    .insight-item .highlight { font-weight: 600; color: #1e40af; }
    .insight-item .positive { color: #16a34a; }
    .insight-item .negative { color: #dc2626; }

    /* íŒ€/í™œë™ ì‚¬ì´ë“œë°” */
    .side-panel { background: white; border: 1px solid #e5e7eb; border-radius: 12px; padding: 20px; }
    .side-panel h4 { font-size: 14px; font-weight: 600; margin-bottom: 12px; }
    .activity-item { display: flex; gap: 10px; padding: 8px 0; border-bottom: 1px solid #f3f4f6; font-size: 13px; }
    .activity-item:last-child { border-bottom: none; }
    .activity-dot { width: 8px; height: 8px; border-radius: 50%; margin-top: 5px; }
    .activity-time { font-size: 11px; color: #9ca3af; }
    .team-member { display: flex; align-items: center; gap: 10px; padding: 6px 0; }
    .avatar { width: 28px; height: 28px; border-radius: 50%; background: #e5e7eb; display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: 600; }
    .avatar.blue { background: #dbeafe; color: #1e40af; }
    .avatar.green { background: #dcfce7; color: #166534; }

    .nav-links { display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap; }
    .nav-links a { padding: 6px 12px; background: #f1f5f9; border-radius: 6px; text-decoration: none; color: #64748b; font-size: 12px; }
    .nav-links a:hover { background: #e2e8f0; }

    /* ì½˜í…ì¸  + AI íŒ¨ë„ ë ˆì´ì•„ì›ƒ */
    .content-wrapper { display: flex; flex: 1; overflow: hidden; }
    .content-main { flex: 1; padding: 24px; overflow-y: auto; }
    @media (max-width: 1024px) { .content-wrapper { flex-direction: column; } }

    /* AI íŒ¨ë„ */
    .ai-panel {
      width: 360px;
      background: linear-gradient(180deg, #0f172a 0%, #1e1e2e 100%);
      border-left: 1px solid #1e293b;
      display: flex;
      flex-direction: column;
      color: white;

    }
    .ai-header { padding: 16px 20px; border-bottom: 1px solid #334155; }
    .ai-header h2 { font-size: 15px; font-weight: 600; display: flex; align-items: center; gap: 10px; }
    .ai-header h2 .dot { width: 8px; height: 8px; background: #10b981; border-radius: 50%; animation: pulse 2s infinite; }
    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    .ai-header .sub { font-size: 11px; color: #64748b; margin-top: 4px; }
    .ai-body { flex: 1; overflow-y: auto; padding: 16px; }
    .ai-message { margin-bottom: 16px; }
    .ai-bubble { background: #1e293b; border-radius: 10px; padding: 14px; font-size: 13px; line-height: 1.6; }
    .ai-bubble .highlight { color: #60a5fa; font-weight: 600; }
    .ai-insight { background: linear-gradient(135deg, #065f46, #047857); border-radius: 10px; padding: 16px; margin-bottom: 16px; }
    .ai-insight .icon { font-size: 18px; margin-bottom: 8px; }
    .ai-insight .text { font-size: 13px; line-height: 1.5; }
    .ai-insight .metric { margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255,255,255,0.2); }
    .ai-insight .metric .value { font-size: 24px; font-weight: 700; }
    .ai-insight .metric .label { font-size: 11px; opacity: 0.8; }
    .ai-suggestions { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 16px; }
    .ai-suggestion-btn { padding: 8px 14px; background: #334155; border: 1px solid #475569; border-radius: 8px; color: #94a3b8; font-size: 12px; cursor: pointer; transition: all 0.2s; }
    .ai-suggestion-btn:hover { background: #3b82f6; border-color: #3b82f6; color: white; }
    .ai-footer { padding: 16px; border-top: 1px solid #334155; }
    .ai-input-row { display: flex; gap: 8px; }
    .ai-input { flex: 1; padding: 12px 16px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; color: white; font-size: 13px; }
    .ai-input::placeholder { color: #64748b; }
    .ai-input:focus { outline: none; border-color: #3b82f6; }
    .ai-send-btn { padding: 12px 16px; background: #3b82f6; border: none; border-radius: 8px; color: white; cursor: pointer; }
    .ai-send-btn:hover { background: #2563eb; }
  </style>
</head>
<body>
  <div class="layout">
    <div class="sidebar">
      <div class="logo" style="display: flex; align-items: center; gap: 10px;">
        <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 14px;">U</div>
        UniQdata
      </div>

      <div class="nav-section">
        <a href="list.html" class="nav-item"><span class="icon">ğŸ </span> ì—°êµ¬ í—ˆë¸Œ</a>
        <a href="create.html" class="nav-item"><span class="icon">â•</span> ìƒˆ ì—°êµ¬</a>
      </div>

      <!-- ë‚´ ì—°êµ¬ë“¤ -->
      <div class="nav-section" style="flex: 1; overflow-y: auto; padding-top: 8px; border-top: 1px solid #2a2a2a;">
        <div style="font-size: 10px; color: #64748b; padding: 6px 12px; text-transform: uppercase; letter-spacing: 0.5px;">ë‚´ ì—°êµ¬ <span style="background: #3b82f6; color: white; padding: 1px 6px; border-radius: 8px; font-size: 9px; margin-left: 4px;">3</span></div>

        <!-- ì—°êµ¬ 1: ë‹¹ë‡¨ë³‘ - í˜„ì¬ ì„ íƒë¨, í¼ì³ì§„ ìƒíƒœ -->
        <div class="research-nav-item expanded">
          <div class="research-nav-header">
            <span class="folder-icon">ğŸ“</span>
            <span class="research-title">ë‹¹ë‡¨ë³‘ ë³µì•½ ìˆœì‘ë„</span>
            <span class="status-dot active"></span>
          </div>
          <div class="research-nav-sub" data-spec="ë©”ë‰´ êµ¬ì¡°: ê°œìš”, í…Œì´ë¸”, AI í—ˆë¸Œë§Œ í‘œì‹œ. ì¸ê³¼ë°œê²¬/SHAP ë“±ì€ AI í—ˆë¸Œë¡œ í†µí•©ë¨." data-spec-type="nav" data-changed="ë©”ë‰´ í†µí•©">
            <a href="data-overview.html" class="nav-sub-item active"><span class="dot"></span> ê°œìš”</a>
            <a href="data-table.html" class="nav-sub-item"><span class="dot"></span> í…Œì´ë¸”</a>
            <a href="analysis-discovery.html" class="nav-sub-item" style="color: #a78bfa;" data-spec="AI í—ˆë¸Œ: ì—°êµ¬ ë°©ë²•ë¡ ë³„ ìµœì í™”ëœ AI ì•Œê³ ë¦¬ì¦˜ ì„ íƒ. ì¸ê³¼ë°œê²¬, SHAP, CATE, What-If, ì´ìƒì¶”ì  í†µí•©." data-spec-type="ai" data-added="í†µí•© ë©”ë‰´"><span class="dot"></span> AI í—ˆë¸Œ</a>
          </div>
        </div>

        <!-- ì—°êµ¬ 2: ì ‘íŒ ìƒíƒœ -->
        <div class="research-nav-item collapsed">
          <div class="research-nav-header">
            <span class="folder-icon">ğŸ“</span>
            <span class="research-title">ë…¸ì¸ ìˆ˜ë©´ íŒ¨í„´</span>
            <span class="status-dot recruiting"></span>
          </div>
        </div>

        <!-- ì—°êµ¬ 3: ì´ˆì•ˆ -->
        <div class="research-nav-item collapsed">
          <div class="research-nav-header">
            <span class="folder-icon">ğŸ“„</span>
            <span class="research-title">ADHD ìƒí™œìŠµê´€</span>
            <span class="status-dot draft"></span>
          </div>
        </div>
      </div>

      <div class="nav-section">
        <a href="../team.html" class="nav-item"><span class="icon">ğŸ‘¥</span> íŒ€</a>
        <a href="../billing.html" class="nav-item"><span class="icon">ğŸ’³</span> ê²°ì œ</a>
        <a href="#" class="nav-item"><span class="icon">âš™ï¸</span> ì„¤ì •</a>
      </div>

      <!-- ìœ ì € í”„ë¡œí•„ -->
      <div style="padding: 12px; border-top: 1px solid #2a2a2a;">
        <div style="display: flex; align-items: center; gap: 10px; padding: 8px; border-radius: 8px; cursor: pointer;" onmouseover="this.style.background='#252525'" onmouseout="this.style.background='transparent'">
          <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: white;">ê¹€</div>
          <div>
            <div style="font-size: 13px; color: #e2e8f0;">ê¹€ì—°êµ¬</div>
            <div style="font-size: 11px; color: #64748b;">ì„œìš¸ëŒ€í•™êµë³‘ì›</div>
          </div>
        </div>
      </div>
    </div>

    <div class="main">
      <div class="header">
        <div>Enterprise Portal</div>
        <div>ì—°êµ¬ì›A</div>
      </div>

      <div class="content-wrapper">
        <div class="content-main">
          <div class="breadcrumb">
            <a href="list.html">ì—°êµ¬ ê´€ë¦¬</a> / <span>ë‹¹ë‡¨ë³‘ í™˜ì ë³µì•½ ìˆœì‘ë„ ì—°êµ¬</span>
          </div>

          <div class="title-row" style="display: flex; justify-content: space-between; align-items: flex-start; gap: 24px;">
            <div class="title-block">
              <h1>ë‹¹ë‡¨ë³‘ í™˜ì ë³µì•½ ìˆœì‘ë„ ì—°êµ¬</h1>
              <p class="subtitle">2í˜• ë‹¹ë‡¨ í™˜ìì˜ ë³µì•½ íŒ¨í„´ê³¼ í˜ˆë‹¹ ë³€í™” ìƒê´€ê´€ê³„ ë¶„ì„</p>
            </div>
            <!-- í”„ë¡œì íŠ¸ ì§€ê°‘ (ìš°ì¸¡ ìƒë‹¨) -->
            <div style="background: linear-gradient(135deg, #0f172a, #1e293b); color: white; border-radius: 12px; padding: 12px 16px; min-width: 280px;" data-spec="í”„ë¡œì íŠ¸ ì§€ê°‘: íƒ€ì´í‹€ ì˜†ì— ë°°ì¹˜. ì˜ˆì‚° í˜„í™© ì¦‰ì‹œ í™•ì¸ ê°€ëŠ¥." data-spec-type="wallet" data-changed="ìœ„ì¹˜ ì´ë™: í•˜ë‹¨â†’ìƒë‹¨ ìš°ì¸¡">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                <span style="font-size: 12px; color: #94a3b8;">ğŸ’³ í”„ë¡œì íŠ¸ ì§€ê°‘</span>
                <span style="font-size: 10px; color: #22c55e; display: flex; align-items: center; gap: 4px;"><span style="width: 6px; height: 6px; background: #22c55e; border-radius: 50%;"></span>ì—°ê²°ë¨</span>
              </div>
              <div style="display: flex; gap: 16px; align-items: baseline;">
                <div>
                  <div style="font-size: 20px; font-weight: 700;">18,500 XRP</div>
                  <div style="font-size: 10px; color: #64748b;">ì”ì•¡ â‰ˆ $9,250</div>
                </div>
                <div style="border-left: 1px solid #334155; padding-left: 12px;">
                  <div style="font-size: 14px; font-weight: 600; color: #22c55e;">6,500</div>
                  <div style="font-size: 10px; color: #64748b;">ì§€ê¸‰ì™„ë£Œ</div>
                </div>
                <div>
                  <div style="font-size: 14px; font-weight: 600; color: #f59e0b;">~4,350</div>
                  <div style="font-size: 10px; color: #64748b;">ì˜ˆì •</div>
                </div>
              </div>
            </div>
          </div>

        <!-- í†µí•© ë©”ì¸ ì°¨íŠ¸ (íƒ­ ì „í™˜) -->
        <div class="chart-card" style="margin-bottom: 24px;" data-spec="í†µí•© ì°¨íŠ¸: ë°ì´í„°ì œì¶œ/ê°€ì„¤ê²€ì¦/ì°¸ì—¬ìë“±ë¡ì„ íƒ­ìœ¼ë¡œ ì „í™˜. í•œ ê³³ì—ì„œ ëª¨ë“  ì¶”ì´ í™•ì¸." data-spec-type="data" data-added="í†µí•© ì°¨íŠ¸" data-priority="1">
          <!-- ì°¨íŠ¸ íƒ­ ë²„íŠ¼ -->
          <div style="display: flex; gap: 8px; margin-bottom: 16px; border-bottom: 2px solid #e5e7eb; padding-bottom: 12px;">
            <button onclick="switchMainChart('collect')" class="main-chart-tab active" style="padding: 10px 20px; border: none; background: linear-gradient(135deg, #3b82f6, #2563eb); color: white; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
              ğŸ“Š ë°ì´í„° ìˆ˜ì§‘
            </button>
            <button onclick="switchMainChart('hypothesis')" class="main-chart-tab" style="padding: 10px 20px; border: 1px solid #d1d5db; background: white; color: #6b7280; border-radius: 8px; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
              ğŸ”¬ ê°€ì„¤ ê²€ì¦
            </button>
            <button onclick="switchMainChart('enrollment')" class="main-chart-tab" style="padding: 10px 20px; border: 1px solid #d1d5db; background: white; color: #6b7280; border-radius: 8px; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
              ğŸ‘¥ ì°¸ì—¬ì ë“±ë¡
            </button>
            <button onclick="switchMainChart('budget')" class="main-chart-tab" style="padding: 10px 20px; border: 1px solid #d1d5db; background: white; color: #6b7280; border-radius: 8px; font-size: 13px; font-weight: 500; cursor: pointer; transition: all 0.2s;">
              ğŸ’° ì˜ˆì‚° ì‚¬ìš©
            </button>
            <div style="flex: 1;"></div>
            <!-- ê¸°ê°„ í•„í„° -->
            <div style="display: flex; gap: 6px; align-items: center;">
              <span class="period-filter active" onclick="setPeriod('30d')" style="padding: 6px 12px; border: 1px solid #3b82f6; background: #3b82f6; color: white; border-radius: 6px; font-size: 11px; cursor: pointer;">30ì¼</span>
              <span class="period-filter" onclick="setPeriod('90d')" style="padding: 6px 12px; border: 1px solid #d1d5db; background: white; color: #6b7280; border-radius: 6px; font-size: 11px; cursor: pointer;">90ì¼</span>
              <span class="period-filter" onclick="setPeriod('all')" style="padding: 6px 12px; border: 1px solid #d1d5db; background: white; color: #6b7280; border-radius: 6px; font-size: 11px; cursor: pointer;">ì „ì²´</span>
            </div>
          </div>

          <!-- ===== íƒ­ 2: ê°€ì„¤ ê²€ì¦ ì¶”ì´ ===== -->
          <div id="chart-hypothesis" class="main-chart-content" style="display: none;">
            <h3 style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
              ğŸ”¬ ê°€ì„¤ ê²€ì¦ ì¶”ì´
              <span style="background: linear-gradient(135deg, #22c55e, #16a34a); color: white; padding: 4px 12px; border-radius: 20px; font-size: 11px; font-weight: 600;">ì¼ì¹˜ë„ 75%</span>
            </h3>
            <div style="background: #f5f3ff; border-left: 4px solid #8b5cf6; padding: 8px 12px; margin-bottom: 12px; font-size: 12px; color: #4c1d95;">
              ğŸ“‹ ê°€ì„¤: ë³µì•½ìˆœì‘ë„â†‘ â†’ í˜ˆë‹¹ë³€ë™â†“ â†’ ì»¨ë””ì…˜â†‘
            </div>

            <!-- ìš”ì•½ í†µê³„ -->
            <div style="display: flex; gap: 16px; margin: 12px 0; padding: 12px; background: #f8fafc; border-radius: 8px;">
              <div style="flex: 1; text-align: center; padding: 8px; background: #f0fdf4; border-radius: 8px;"><div style="font-size: 18px; font-weight: 700; color: #16a34a;">-0.68</div><div style="font-size: 9px; color: #6b7280;">ë³µì•½â†’í˜ˆë‹¹</div></div>
              <div style="flex: 1; text-align: center; padding: 8px; background: #eff6ff; border-radius: 8px;"><div style="font-size: 18px; font-weight: 700; color: #2563eb;">-0.52</div><div style="font-size: 9px; color: #6b7280;">í˜ˆë‹¹â†’ì»¨ë””ì…˜</div></div>
              <div style="flex: 1; text-align: center; padding: 8px; background: #faf5ff; border-radius: 8px;"><div style="font-size: 18px; font-weight: 700; color: #9333ea;">+0.41</div><div style="font-size: 9px; color: #6b7280;">ë³µì•½â†’ì»¨ë””ì…˜</div></div>
            </div>

            <!-- ê°€ì„¤ ê²€ì¦ ì°¨íŠ¸ -->
            <div style="height: 200px; position: relative; margin-top: 12px;">
              <div style="position: absolute; left: 0; top: 0; bottom: 25px; width: 35px; display: flex; flex-direction: column; justify-content: space-between; font-size: 9px; color: #6b7280; text-align: right; padding-right: 6px;"><span>100%</span><span>75%</span><span>50%</span><span>25%</span><span>0%</span></div>
              <div style="position: absolute; left: 40px; right: 10px; top: 0; bottom: 25px; border: 1px solid #e5e7eb; border-radius: 8px; background: linear-gradient(to bottom, #fafafa, white); overflow: hidden;">
                <div style="position: absolute; top: 25%; left: 0; right: 0; border-top: 1px dashed #e5e7eb;"></div>
                <div style="position: absolute; top: 50%; left: 0; right: 0; border-top: 1px dashed #e5e7eb;"></div>
                <div style="position: absolute; top: 75%; left: 0; right: 0; border-top: 1px dashed #e5e7eb;"></div>
                <svg style="position: absolute; inset: 0; width: 100%; height: 100%;" viewBox="0 0 300 150" preserveAspectRatio="none">
                  <path d="M0,110 L50,95 L100,80 L150,60 L200,45 L250,35 L300,25" fill="none" stroke="#8b5cf6" stroke-width="3"/>
                  <path d="M0,40 L50,50 L100,65 L150,80 L200,95 L250,105 L300,115" fill="none" stroke="#ef4444" stroke-width="3"/>
                  <path d="M0,100 L50,90 L100,78 L150,65 L200,50 L250,40 L300,30" fill="none" stroke="#22c55e" stroke-width="3"/>
                </svg>
              </div>
              <div style="position: absolute; left: 40px; right: 10px; bottom: 0; height: 25px; display: flex; justify-content: space-between; font-size: 9px; color: #9ca3af; padding-top: 6px;"><span>1ì£¼</span><span>2ì£¼</span><span>3ì£¼</span><span>4ì£¼</span><span>5ì£¼</span><span>6ì£¼</span><span>í˜„ì¬</span></div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px; font-size: 11px;">
              <div style="display: flex; gap: 12px;">
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 12px; height: 3px; background: #8b5cf6; border-radius: 2px;"></span> ë³µì•½ìˆœì‘ â†‘23%</span>
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 12px; height: 3px; background: #ef4444; border-radius: 2px;"></span> í˜ˆë‹¹ë³€ë™ â†“31%</span>
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 12px; height: 3px; background: #22c55e; border-radius: 2px;"></span> ì»¨ë””ì…˜ â†‘18%</span>
              </div>
              <span style="color: #16a34a; font-weight: 600;">âœ… ê°€ì„¤ ë°©í–¥ ì¼ì¹˜</span>
            </div>
          </div>

          <!-- ===== íƒ­ 3: ì°¸ì—¬ì ë“±ë¡ ì¶”ì´ ===== -->
          <div id="chart-enrollment" class="main-chart-content" style="display: none;">
            <h3 style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
              ğŸ‘¥ ì°¸ì—¬ì ë“±ë¡ ì¶”ì´
              <span style="font-size: 12px; color: #3b82f6; font-weight: 600;">87/100ëª… (87%)</span>
            </h3>

            <!-- ìš”ì•½ í†µê³„ -->
            <div style="display: flex; gap: 24px; margin: 12px 0; padding: 14px; background: #f8fafc; border-radius: 8px;">
              <div style="text-align: center;"><div style="font-size: 22px; font-weight: 700; color: #3b82f6;">87</div><div style="font-size: 10px; color: #6b7280;">í˜„ì¬ ì°¸ì—¬ì</div></div>
              <div style="text-align: center;"><div style="font-size: 22px; font-weight: 700; color: #22c55e;">82</div><div style="font-size: 10px; color: #6b7280;">í™œì„± ì°¸ì—¬ì</div></div>
              <div style="text-align: center;"><div style="font-size: 22px; font-weight: 700; color: #f59e0b;">100</div><div style="font-size: 10px; color: #6b7280;">ëª©í‘œ</div></div>
              <div style="text-align: center;"><div style="font-size: 22px; font-weight: 700; color: #8b5cf6;">13</div><div style="font-size: 10px; color: #6b7280;">ë‚¨ì€ ì¸ì›</div></div>
            </div>

            <!-- ë“±ë¡ ì¶”ì´ ì°¨íŠ¸ -->
            <div style="height: 200px; position: relative; margin-top: 12px;">
              <div style="position: absolute; left: 0; top: 0; bottom: 25px; width: 35px; display: flex; flex-direction: column; justify-content: space-between; font-size: 9px; color: #9ca3af; text-align: right; padding-right: 6px;"><span>100</span><span>75</span><span>50</span><span>25</span><span>0</span></div>
              <div style="position: absolute; left: 40px; right: 10px; top: 0; bottom: 25px; border-left: 1px solid #e5e7eb; border-bottom: 1px solid #e5e7eb; overflow: hidden;">
                <div style="position: absolute; top: 0%; left: 0; right: 0; border-top: 2px dashed #f59e0b;"></div>
                <div style="position: absolute; top: -3%; right: 8px; font-size: 9px; color: #f59e0b; background: white; padding: 0 4px;">ëª©í‘œ 100ëª…</div>
                <svg style="position: absolute; inset: 0; width: 100%; height: 100%;" viewBox="0 0 300 100" preserveAspectRatio="none">
                  <defs><linearGradient id="enrollGrad" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.3" /><stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.05" /></linearGradient></defs>
                  <path d="M0,95 L30,85 L60,75 L90,60 L120,50 L150,40 L180,30 L210,22 L240,18 L270,15 L300,13 L300,100 L0,100 Z" fill="url(#enrollGrad)"/>
                  <path d="M0,95 L30,85 L60,75 L90,60 L120,50 L150,40 L180,30 L210,22 L240,18 L270,15 L300,13" fill="none" stroke="#3b82f6" stroke-width="2.5"/>
                </svg>
              </div>
              <div style="position: absolute; left: 40px; right: 10px; bottom: 0; height: 25px; display: flex; justify-content: space-between; font-size: 9px; color: #9ca3af; padding-top: 6px;"><span>1ì¼</span><span>5ì¼</span><span>10ì¼</span><span>15ì¼</span><span>20ì¼</span><span>25ì¼</span><span>30ì¼</span></div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px; font-size: 11px;">
              <div style="display: flex; gap: 12px;">
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 10px; height: 10px; background: linear-gradient(to bottom, rgba(59,130,246,0.3), rgba(59,130,246,0.05)); border-radius: 2px;"></span> ëˆ„ì  ë“±ë¡</span>
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 12px; border-top: 2px dashed #f59e0b;"></span> ëª©í‘œì„ </span>
              </div>
              <span style="color: #3b82f6; font-weight: 600;">ğŸ“ˆ ì˜ˆìƒ ì™„ë£Œì¼: 2/15</span>
            </div>
          </div>

          <!-- ===== íƒ­ 4: ì˜ˆì‚° ì‚¬ìš© ì¶”ì´ ===== -->
          <div id="chart-budget" class="main-chart-content" style="display: none;">
            <h3 style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
              ğŸ’° ì˜ˆì‚° ì‚¬ìš© ì¶”ì´
              <span style="font-size: 12px; color: #22c55e; font-weight: 600;">ì‚¬ìš©ë¥  35%</span>
            </h3>

            <!-- ìš”ì•½ í†µê³„ -->
            <div style="display: flex; gap: 16px; margin: 12px 0; padding: 14px; background: #f8fafc; border-radius: 8px;">
              <div style="flex: 1; text-align: center; padding: 8px; background: linear-gradient(135deg, #0f172a, #1e293b); border-radius: 8px;"><div style="font-size: 18px; font-weight: 700; color: white;">25,000</div><div style="font-size: 9px; color: #94a3b8;">ì´ ì˜ˆì‚° XRP</div></div>
              <div style="flex: 1; text-align: center; padding: 8px; background: #f0fdf4; border-radius: 8px;"><div style="font-size: 18px; font-weight: 700; color: #16a34a;">6,500</div><div style="font-size: 9px; color: #6b7280;">ì§€ê¸‰ ì™„ë£Œ</div></div>
              <div style="flex: 1; text-align: center; padding: 8px; background: #fef3c7; border-radius: 8px;"><div style="font-size: 18px; font-weight: 700; color: #d97706;">4,350</div><div style="font-size: 9px; color: #6b7280;">ì§€ê¸‰ ì˜ˆì •</div></div>
              <div style="flex: 1; text-align: center; padding: 8px; background: #eff6ff; border-radius: 8px;"><div style="font-size: 18px; font-weight: 700; color: #2563eb;">14,150</div><div style="font-size: 9px; color: #6b7280;">ì”ì—¬ ì˜ˆì‚°</div></div>
            </div>

            <!-- ì˜ˆì‚° ì‚¬ìš© ì°¨íŠ¸ -->
            <div style="height: 200px; position: relative; margin-top: 12px;">
              <div style="position: absolute; left: 0; top: 0; bottom: 25px; width: 40px; display: flex; flex-direction: column; justify-content: space-between; font-size: 9px; color: #9ca3af; text-align: right; padding-right: 6px;"><span>25k</span><span>20k</span><span>15k</span><span>10k</span><span>5k</span><span>0</span></div>
              <div style="position: absolute; left: 45px; right: 10px; top: 0; bottom: 25px; border-left: 1px solid #e5e7eb; border-bottom: 1px solid #e5e7eb; overflow: hidden;">
                <!-- ê·¸ë¦¬ë“œ -->
                <div style="position: absolute; top: 20%; left: 0; right: 0; border-top: 1px dashed #f3f4f6;"></div>
                <div style="position: absolute; top: 40%; left: 0; right: 0; border-top: 1px dashed #f3f4f6;"></div>
                <div style="position: absolute; top: 60%; left: 0; right: 0; border-top: 1px dashed #f3f4f6;"></div>
                <div style="position: absolute; top: 80%; left: 0; right: 0; border-top: 1px dashed #f3f4f6;"></div>
                <!-- ìŠ¤íƒ ë°” ì°¨íŠ¸ -->
                <svg style="position: absolute; inset: 0; width: 100%; height: 100%;" viewBox="0 0 300 100" preserveAspectRatio="none">
                  <!-- ì”ì—¬ (íŒŒë‘) -->
                  <rect x="10" y="0" width="35" height="100" fill="#dbeafe"/>
                  <rect x="60" y="0" width="35" height="100" fill="#dbeafe"/>
                  <rect x="110" y="0" width="35" height="100" fill="#dbeafe"/>
                  <rect x="160" y="0" width="35" height="100" fill="#dbeafe"/>
                  <rect x="210" y="0" width="35" height="100" fill="#dbeafe"/>
                  <rect x="260" y="0" width="35" height="100" fill="#dbeafe"/>
                  <!-- ì§€ê¸‰ì˜ˆì • (ë…¸ë‘) -->
                  <rect x="10" y="60" width="35" height="40" fill="#fde68a"/>
                  <rect x="60" y="55" width="35" height="45" fill="#fde68a"/>
                  <rect x="110" y="50" width="35" height="50" fill="#fde68a"/>
                  <rect x="160" y="45" width="35" height="55" fill="#fde68a"/>
                  <rect x="210" y="42" width="35" height="58" fill="#fde68a"/>
                  <rect x="260" y="40" width="35" height="60" fill="#fde68a"/>
                  <!-- ì§€ê¸‰ì™„ë£Œ (ì´ˆë¡) -->
                  <rect x="10" y="90" width="35" height="10" fill="#86efac"/>
                  <rect x="60" y="82" width="35" height="18" fill="#86efac"/>
                  <rect x="110" y="72" width="35" height="28" fill="#86efac"/>
                  <rect x="160" y="64" width="35" height="36" fill="#86efac"/>
                  <rect x="210" y="58" width="35" height="42" fill="#86efac"/>
                  <rect x="260" y="52" width="35" height="48" fill="#86efac"/>
                </svg>
                <!-- ì˜ˆì‚°ì„  -->
                <div style="position: absolute; top: 0%; left: 0; right: 0; border-top: 2px solid #1e293b;"></div>
              </div>
              <div style="position: absolute; left: 45px; right: 10px; bottom: 0; height: 25px; display: flex; justify-content: space-around; font-size: 9px; color: #9ca3af; padding-top: 6px;"><span>1ì£¼</span><span>2ì£¼</span><span>3ì£¼</span><span>4ì£¼</span><span>5ì£¼</span><span>6ì£¼</span></div>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px; font-size: 11px;">
              <div style="display: flex; gap: 12px;">
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 10px; height: 10px; background: #86efac; border-radius: 2px;"></span> ì§€ê¸‰ì™„ë£Œ</span>
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 10px; height: 10px; background: #fde68a; border-radius: 2px;"></span> ì§€ê¸‰ì˜ˆì •</span>
                <span style="display: flex; align-items: center; gap: 4px;"><span style="width: 10px; height: 10px; background: #dbeafe; border-radius: 2px;"></span> ì”ì—¬</span>
              </div>
              <span style="color: #6b7280;">ğŸ’¡ ì˜ˆìƒ ì†Œì§„ì¼: <span style="color: #2563eb; font-weight: 600;">3/15</span></span>
            </div>
          </div>

          <!-- ===== íƒ­ 1: ë°ì´í„° ìˆ˜ì§‘ (ì¸ì›+ì‘ë‹µ+ë°ì´í„°ì¶”ì´ í†µí•©) ===== -->
          <div id="chart-collect" class="main-chart-content" style="display: block;">
            <h3 style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
              ğŸ“Š ë°ì´í„° ìˆ˜ì§‘ í˜„í™©
            </h3>

            <!-- ë°ì´í„° í† ê¸€ ë²„íŠ¼ ê·¸ë£¹ -->
            <div style="display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 12px; padding: 10px; background: white; border-radius: 8px; border: 1px solid #e5e7eb;">
              <span style="font-size: 10px; color: #6b7280; padding: 4px 0;">í‘œì‹œ:</span>
              <button onclick="toggleDataLayer('participants')" id="btn-participants" class="data-toggle active" style="font-size: 10px; padding: 4px 10px; border-radius: 12px; border: 2px solid #3b82f6; background: #3b82f6; color: white; cursor: pointer; font-weight: 600;">ğŸ‘¥ ì°¸ì—¬ì¸ì›</button>
              <button onclick="toggleDataLayer('response')" id="btn-response" class="data-toggle active" style="font-size: 10px; padding: 4px 10px; border-radius: 12px; border: 2px solid #8b5cf6; background: #8b5cf6; color: white; cursor: pointer; font-weight: 600;">ğŸ“ ì‘ë‹µìˆ˜</button>
              <span style="border-left: 1px solid #d1d5db; margin: 0 4px;"></span>
              <button onclick="toggleDataLayer('medication')" id="btn-medication" class="data-toggle active" style="font-size: 10px; padding: 4px 10px; border-radius: 12px; border: 2px solid #22c55e; background: #22c55e; color: white; cursor: pointer; font-weight: 600;">ğŸ’Š ë³µì•½</button>
              <button onclick="toggleDataLayer('mood')" id="btn-mood" class="data-toggle active" style="font-size: 10px; padding: 4px 10px; border-radius: 12px; border: 2px solid #ec4899; background: #ec4899; color: white; cursor: pointer; font-weight: 600;">ğŸ˜Š ê¸°ë¶„</button>
              <button onclick="toggleDataLayer('sleep')" id="btn-sleep" class="data-toggle active" style="font-size: 10px; padding: 4px 10px; border-radius: 12px; border: 2px solid #a855f7; background: #a855f7; color: white; cursor: pointer; font-weight: 600;">ğŸ˜´ ìˆ˜ë©´</button>
              <button onclick="toggleDataLayer('glucose')" id="btn-glucose" class="data-toggle active" style="font-size: 10px; padding: 4px 10px; border-radius: 12px; border: 2px solid #f59e0b; background: #f59e0b; color: white; cursor: pointer; font-weight: 600;">ğŸ©¸ í˜ˆë‹¹</button>
              <span style="flex: 1;"></span>
              <label style="display: flex; align-items: center; gap: 4px; font-size: 10px; color: #6b7280; cursor: pointer;">
                <input type="checkbox" id="show-range" checked onchange="toggleRangeBands()" style="width: 14px; height: 14px;"> ì˜¤ì°¨ë²”ìœ„
              </label>
            </div>

            <!-- ìš”ì•½ í†µê³„: ìˆ˜ì§‘ ì¸ì› + ë°ì´í„° -->
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin: 12px 0;">
              <!-- ìˆ˜ì§‘ ì¸ì› -->
              <div style="background: linear-gradient(135deg, #eff6ff, #dbeafe); border: 1px solid #93c5fd; border-radius: 8px; padding: 12px;">
                <div style="font-size: 10px; color: #3b82f6; font-weight: 600; margin-bottom: 6px;">ğŸ‘¥ ìˆ˜ì§‘ ì¸ì›</div>
                <div style="display: flex; justify-content: space-between;">
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #1d4ed8;">87</div><div style="font-size: 8px; color: #6b7280;">ì°¸ì—¬ì</div></div>
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #22c55e;">84</div><div style="font-size: 8px; color: #6b7280;">í™œì„±</div></div>
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #f59e0b;">96%</div><div style="font-size: 8px; color: #6b7280;">ì°¸ì—¬ìœ¨</div></div>
                </div>
              </div>
              <!-- ì‘ë‹µ ìˆ˜ -->
              <div style="background: linear-gradient(135deg, #f5f3ff, #ede9fe); border: 1px solid #c4b5fd; border-radius: 8px; padding: 12px;">
                <div style="font-size: 10px; color: #8b5cf6; font-weight: 600; margin-bottom: 6px;">ğŸ“ ì‘ë‹µ ìˆ˜</div>
                <div style="display: flex; justify-content: space-between;">
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #7c3aed;">2,847</div><div style="font-size: 8px; color: #6b7280;">ì´ ì‘ë‹µ</div></div>
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #22c55e;">95</div><div style="font-size: 8px; color: #6b7280;">ì¼í‰ê· </div></div>
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #8b5cf6;">+12%</div><div style="font-size: 8px; color: #6b7280;">ì¶”ì„¸</div></div>
                </div>
              </div>
              <!-- ë°ì´í„° í’ˆì§ˆ -->
              <div style="background: linear-gradient(135deg, #ecfdf5, #d1fae5); border: 1px solid #6ee7b7; border-radius: 8px; padding: 12px;">
                <div style="font-size: 10px; color: #22c55e; font-weight: 600; margin-bottom: 6px;">ğŸ“ˆ ë°ì´í„° í’ˆì§ˆ</div>
                <div style="display: flex; justify-content: space-between;">
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #16a34a;">92%</div><div style="font-size: 8px; color: #6b7280;">ì™„ì„±ë„</div></div>
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #22c55e;">4.2</div><div style="font-size: 8px; color: #6b7280;">í‰ê· ê¸°ë¶„</div></div>
                  <div style="text-align: center;"><div style="font-size: 16px; font-weight: 700; color: #059669;">85%</div><div style="font-size: 8px; color: #6b7280;">ë³µì•½ë¥ </div></div>
                </div>
              </div>
            </div>

            <!-- í†µí•© ë©€í‹°ë¼ì¸ ì°¨íŠ¸ (ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ í¬í•¨) -->
            <svg viewBox="0 0 620 300" style="width: 100%; height: 300px; background: #fafafa; border-radius: 12px;">
              <defs>
                <!-- ì°¸ì—¬ ì¸ì› ì˜ì—­ ê·¸ë¼ë””ì–¸íŠ¸ -->
                <linearGradient id="areaParticipants" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:0.2" />
                  <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.02" />
                </linearGradient>
                <!-- ë³µì•½ ì˜¤ì°¨ë²”ìœ„ ê·¸ë¼ë””ì–¸íŠ¸ -->
                <linearGradient id="bandMedication" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#22c55e;stop-opacity:0.35" />
                  <stop offset="50%" style="stop-color:#22c55e;stop-opacity:0.15" />
                  <stop offset="100%" style="stop-color:#22c55e;stop-opacity:0.35" />
                </linearGradient>
                <!-- ê¸°ë¶„ ì˜¤ì°¨ë²”ìœ„ ê·¸ë¼ë””ì–¸íŠ¸ -->
                <linearGradient id="bandMood" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#ec4899;stop-opacity:0.35" />
                  <stop offset="50%" style="stop-color:#ec4899;stop-opacity:0.12" />
                  <stop offset="100%" style="stop-color:#ec4899;stop-opacity:0.35" />
                </linearGradient>
                <!-- ìˆ˜ë©´ ì˜¤ì°¨ë²”ìœ„ ê·¸ë¼ë””ì–¸íŠ¸ -->
                <linearGradient id="bandSleep" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#a855f7;stop-opacity:0.3" />
                  <stop offset="50%" style="stop-color:#a855f7;stop-opacity:0.1" />
                  <stop offset="100%" style="stop-color:#a855f7;stop-opacity:0.3" />
                </linearGradient>
                <!-- í˜ˆë‹¹ ì˜¤ì°¨ë²”ìœ„ ê·¸ë¼ë””ì–¸íŠ¸ -->
                <linearGradient id="bandGlucose" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:0.35" />
                  <stop offset="50%" style="stop-color:#f59e0b;stop-opacity:0.12" />
                  <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:0.35" />
                </linearGradient>
              </defs>

              <!-- Yì¶• ê·¸ë¦¬ë“œ -->
              <line x1="50" y1="30" x2="570" y2="30" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="3"/>
              <line x1="50" y1="80" x2="570" y2="80" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="3"/>
              <line x1="50" y1="130" x2="570" y2="130" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="3"/>
              <line x1="50" y1="180" x2="570" y2="180" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="3"/>
              <line x1="50" y1="230" x2="570" y2="230" stroke="#e5e7eb" stroke-width="1" stroke-dasharray="3"/>
              <line x1="50" y1="250" x2="570" y2="250" stroke="#e5e7eb" stroke-width="1"/>

              <!-- Yì¶• ë ˆì´ë¸” (ì™¼ìª½: ì¸ì›) -->
              <text x="10" y="35" font-size="9" fill="#3b82f6">120ëª…</text>
              <text x="10" y="85" font-size="9" fill="#3b82f6">90</text>
              <text x="10" y="135" font-size="9" fill="#3b82f6">60</text>
              <text x="10" y="185" font-size="9" fill="#3b82f6">30</text>

              <!-- Yì¶• ë ˆì´ë¸” (ì˜¤ë¥¸ìª½: ë°ì´í„° %) -->
              <text x="580" y="35" font-size="9" fill="#6b7280">100%</text>
              <text x="580" y="85" font-size="9" fill="#6b7280">75%</text>
              <text x="580" y="135" font-size="9" fill="#6b7280">50%</text>
              <text x="580" y="185" font-size="9" fill="#6b7280">25%</text>

              <!-- ===== ë ˆì´ì–´: ì°¸ì—¬ ì¸ì› ===== -->
              <g id="layer-participants">
                <path d="M60,78 L95,75 L130,72 L165,70 L200,68 L235,65 L270,80 L305,82 L340,78 L375,75 L410,72 L445,70 L480,85 L515,82 L550,75 L550,250 L60,250 Z"
                      fill="url(#areaParticipants)" opacity="0.8"/>
                <path d="M60,78 L95,75 L130,72 L165,70 L200,68 L235,65 L270,80 L305,82 L340,78 L375,75 L410,72 L445,70 L480,85 L515,82 L550,75"
                      fill="none" stroke="#3b82f6" stroke-width="2.5" stroke-linecap="round"/>
                <circle cx="60" cy="78" r="4" fill="white" stroke="#3b82f6" stroke-width="2"><title>1/1: 84ëª… (Â±3)</title></circle>
                <circle cx="270" cy="80" r="4" fill="white" stroke="#3b82f6" stroke-width="2"><title>1/8: 82ëª… (Â±4)</title></circle>
                <circle cx="480" cy="85" r="4" fill="white" stroke="#3b82f6" stroke-width="2"><title>1/14: 80ëª… (Â±5)</title></circle>
                <circle cx="550" cy="75" r="4" fill="white" stroke="#3b82f6" stroke-width="2"><title>1/17: 84ëª… (Â±3)</title></circle>
              </g>

              <!-- ===== ë ˆì´ì–´: ì‘ë‹µ ìˆ˜ ===== -->
              <g id="layer-response">
                <path d="M60,92 L95,68 L130,58 L165,65 L200,52 L235,48 L270,95 L305,85 L340,55 L375,72 L410,48 L445,42 L480,90 L515,75 L550,52"
                      fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-dasharray="6,3"/>
                <circle cx="235" cy="48" r="5" fill="#22c55e" stroke="white" stroke-width="2"><title>1/6: 105ëª… ì‘ë‹µ (ìµœê³ )</title></circle>
                <circle cx="270" cy="95" r="5" fill="#ef4444" stroke="white" stroke-width="2"><title>1/7: 68ëª… ì‘ë‹µ (ìµœì €-ì£¼ë§)</title></circle>
              </g>

              <!-- ===== ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ ê·¸ë£¹ ===== -->
              <g id="range-bands">
                <!-- ë³µì•½ ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ (Â±12%) -->
                <g id="layer-medication">
                  <path d="M60,75 L95,68 L130,62 L165,55 L200,58 L235,52 L270,85 L305,78 L340,65 L375,58 L410,52 L445,48 L480,78 L515,70 L550,55
                           L550,105 L515,115 L480,120 L445,102 L410,105 L375,108 L340,112 L305,122 L270,128 L235,105 L200,108 L165,105 L130,108 L95,112 L60,118 Z"
                        fill="url(#bandMedication)"/>
                  <path d="M60,95 L95,90 L130,85 L165,80 L200,82 L235,78 L270,105 L305,100 L340,88 L375,82 L410,78 L445,75 L480,98 L515,92 L550,80"
                        fill="none" stroke="#22c55e" stroke-width="2.5" stroke-linecap="round"/>
                  <circle cx="165" cy="80" r="4" fill="white" stroke="#22c55e" stroke-width="2"><title>1/4: ë³µì•½ 88% (Â±12%)</title></circle>
                  <circle cx="375" cy="82" r="4" fill="white" stroke="#22c55e" stroke-width="2"><title>1/11: ë³µì•½ 86% (Â±10%)</title></circle>
                  <circle cx="550" cy="80" r="4" fill="white" stroke="#22c55e" stroke-width="2"><title>1/17: ë³µì•½ 88% (Â±8%)</title></circle>
                </g>

                <!-- ê¸°ë¶„ ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ (Â±0.8ì ) -->
                <g id="layer-mood">
                  <path d="M60,100 L95,92 L130,85 L165,88 L200,78 L235,72 L270,115 L305,108 L340,92 L375,85 L410,78 L445,72 L480,108 L515,98 L550,82
                           L550,125 L515,135 L480,145 L445,118 L410,120 L375,128 L340,132 L305,145 L270,150 L235,120 L200,125 L165,130 L130,128 L95,130 L60,135 Z"
                        fill="url(#bandMood)"/>
                  <path d="M60,115 L95,110 L130,105 L165,108 L200,100 L235,95 L270,130 L305,125 L340,110 L375,105 L410,98 L445,95 L480,125 L515,115 L550,102"
                        fill="none" stroke="#ec4899" stroke-width="2.5" stroke-linecap="round"/>
                  <circle cx="95" cy="110" r="4" fill="white" stroke="#ec4899" stroke-width="2"><title>1/2: ê¸°ë¶„ 4.1 (Â±0.8)</title></circle>
                  <circle cx="340" cy="110" r="4" fill="white" stroke="#ec4899" stroke-width="2"><title>1/9: ê¸°ë¶„ 4.1 (Â±0.7)</title></circle>
                  <circle cx="550" cy="102" r="4" fill="white" stroke="#ec4899" stroke-width="2"><title>1/17: ê¸°ë¶„ 4.3 (Â±0.6)</title></circle>
                </g>

                <!-- ìˆ˜ë©´ ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ (Â±1.2h) -->
                <g id="layer-sleep">
                  <path d="M60,108 L95,115 L130,102 L165,95 L200,105 L235,100 L270,125 L305,118 L340,108 L375,102 L410,95 L445,92 L480,122 L515,115 L550,100
                           L550,138 L515,148 L480,158 L445,135 L410,138 L375,142 L340,148 L305,155 L270,160 L235,140 L200,142 L165,138 L130,142 L95,148 L60,145 Z"
                        fill="url(#bandSleep)"/>
                  <path d="M60,125 L95,130 L130,120 L165,115 L200,122 L235,118 L270,140 L305,135 L340,125 L375,120 L410,115 L445,112 L480,138 L515,130 L550,118"
                        fill="none" stroke="#a855f7" stroke-width="2" stroke-linecap="round" stroke-dasharray="5,3"/>
                  <circle cx="130" cy="120" r="4" fill="white" stroke="#a855f7" stroke-width="2"><title>1/3: ìˆ˜ë©´ 6.8h (Â±1.2h)</title></circle>
                  <circle cx="445" cy="112" r="4" fill="white" stroke="#a855f7" stroke-width="2"><title>1/13: ìˆ˜ë©´ 7.1h (Â±1.0h)</title></circle>
                </g>

                <!-- í˜ˆë‹¹ ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ (Â±15mg/dL) -->
                <g id="layer-glucose">
                  <path d="M60,88 L95,80 L130,75 L165,70 L200,68 L235,62 L270,98 L305,90 L340,78 L375,72 L410,65 L445,60 L480,95 L515,82 L550,68
                           L550,118 L515,128 L480,138 L445,112 L410,118 L375,120 L340,125 L305,138 L270,142 L235,115 L200,118 L165,122 L130,125 L95,128 L60,132 Z"
                        fill="url(#bandGlucose)"/>
                  <path d="M60,108 L95,102 L130,98 L165,95 L200,92 L235,88 L270,118 L305,112 L340,100 L375,95 L410,90 L445,85 L480,115 L515,105 L550,92"
                        fill="none" stroke="#f59e0b" stroke-width="2" stroke-linecap="round"/>
                  <circle cx="200" cy="92" r="4" fill="white" stroke="#f59e0b" stroke-width="2"><title>1/5: í˜ˆë‹¹ 105 (Â±15)</title></circle>
                  <circle cx="410" cy="90" r="4" fill="white" stroke="#f59e0b" stroke-width="2"><title>1/12: í˜ˆë‹¹ 98 (Â±12)</title></circle>
                </g>
              </g>

              <!-- ì£¼ë§ ì˜ì—­ í‘œì‹œ -->
              <rect x="255" y="25" width="30" height="230" fill="#fef2f2" opacity="0.3" rx="4"/>
              <rect x="465" y="25" width="30" height="230" fill="#fef2f2" opacity="0.3" rx="4"/>
              <text x="270" y="268" font-size="8" fill="#ef4444" text-anchor="middle">ì£¼ë§</text>
              <text x="480" y="268" font-size="8" fill="#ef4444" text-anchor="middle">ì£¼ë§</text>

              <!-- Xì¶• ë‚ ì§œ -->
              <text x="60" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/1</text>
              <text x="130" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/3</text>
              <text x="200" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/5</text>
              <text x="270" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/7</text>
              <text x="340" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/9</text>
              <text x="410" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/11</text>
              <text x="480" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/13</text>
              <text x="550" y="280" font-size="9" fill="#9ca3af" text-anchor="middle">1/17</text>
            </svg>

            <!-- ë²”ë¡€ (ì˜¤ì°¨ë²”ìœ„ í‘œì‹œ í¬í•¨) -->
            <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px; padding: 10px; background: white; border-radius: 8px; border: 1px solid #e5e7eb;">
              <div style="font-size: 10px; font-weight: 600; color: #374151; margin-right: 6px;">ë²”ë¡€:</div>
              <span style="display: flex; align-items: center; gap: 4px; font-size: 10px;"><span style="width: 16px; height: 8px; background: linear-gradient(180deg, rgba(59,130,246,0.3), rgba(59,130,246,0.05)); border: 1px solid #3b82f6; border-radius: 2px;"></span> ì°¸ì—¬ì¸ì›</span>
              <span style="display: flex; align-items: center; gap: 4px; font-size: 10px;"><span style="width: 16px; height: 2px; background: #8b5cf6; border-radius: 1px; border-style: dashed;"></span> ì‘ë‹µìˆ˜</span>
              <span style="border-left: 1px solid #e5e7eb; margin: 0 2px;"></span>
              <span style="display: flex; align-items: center; gap: 4px; font-size: 10px;"><span style="width: 16px; height: 8px; background: linear-gradient(180deg, rgba(34,197,94,0.4), rgba(34,197,94,0.1)); border-radius: 2px;"></span><span style="width: 12px; height: 2px; background: #22c55e; border-radius: 1px; margin-left: -6px;"></span> ë³µì•½Â±ë²”ìœ„</span>
              <span style="display: flex; align-items: center; gap: 4px; font-size: 10px;"><span style="width: 16px; height: 8px; background: linear-gradient(180deg, rgba(236,72,153,0.4), rgba(236,72,153,0.1)); border-radius: 2px;"></span><span style="width: 12px; height: 2px; background: #ec4899; border-radius: 1px; margin-left: -6px;"></span> ê¸°ë¶„Â±ë²”ìœ„</span>
              <span style="display: flex; align-items: center; gap: 4px; font-size: 10px;"><span style="width: 16px; height: 8px; background: linear-gradient(180deg, rgba(168,85,247,0.35), rgba(168,85,247,0.1)); border-radius: 2px;"></span><span style="width: 12px; height: 2px; background: #a855f7; border-radius: 1px; margin-left: -6px;"></span> ìˆ˜ë©´Â±ë²”ìœ„</span>
              <span style="display: flex; align-items: center; gap: 4px; font-size: 10px;"><span style="width: 16px; height: 8px; background: linear-gradient(180deg, rgba(245,158,11,0.4), rgba(245,158,11,0.1)); border-radius: 2px;"></span><span style="width: 12px; height: 2px; background: #f59e0b; border-radius: 1px; margin-left: -6px;"></span> í˜ˆë‹¹Â±ë²”ìœ„</span>
              <span style="display: flex; align-items: center; gap: 4px; font-size: 10px;"><span style="width: 10px; height: 10px; background: #fef2f2; border: 1px solid #fecaca; border-radius: 2px;"></span> ì£¼ë§</span>
            </div>

            <!-- ì¸ì‚¬ì´íŠ¸ -->
            <div style="display: flex; gap: 12px; margin-top: 10px; font-size: 11px;">
              <div style="flex: 1; padding: 10px; background: #fef3c7; border-radius: 6px; border-left: 3px solid #f59e0b;">
                ğŸ’¡ <strong>ì£¼ë§ íŒ¨í„´:</strong> ì‘ë‹µë¥  -24% ê°ì†Œ, ë³µì•½/ìˆ˜ë©´ ì˜¤ì°¨ë²”ìœ„ í™•ëŒ€
              </div>
              <div style="flex: 1; padding: 10px; background: #dcfce7; border-radius: 6px; border-left: 3px solid #22c55e;">
                ğŸ“ˆ <strong>ì¶”ì„¸:</strong> ì „ë°˜ì  ìƒìŠ¹ì„¸, ì˜¤ì°¨ë²”ìœ„ ì ì°¨ ì¶•ì†Œ (ë°ì´í„° ì•ˆì •í™”)
              </div>
            </div>
          </div>
        </div>

        <script>
          function switchMainChart(type) {
            // ëª¨ë“  ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.main-chart-content').forEach(c => c.style.display = 'none');
            // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
            document.querySelectorAll('.main-chart-tab').forEach(t => {
              t.style.background = 'white';
              t.style.color = '#6b7280';
              t.style.border = '1px solid #d1d5db';
            });
            // ì„ íƒëœ ì½˜í…ì¸  í‘œì‹œ
            document.getElementById('chart-' + type).style.display = 'block';
            // ì„ íƒëœ íƒ­ í™œì„±í™”
            event.target.style.background = 'linear-gradient(135deg, #3b82f6, #2563eb)';
            event.target.style.color = 'white';
            event.target.style.border = 'none';
          }
          function setPeriod(period) {
            document.querySelectorAll('.period-filter').forEach(f => {
              f.style.background = 'white';
              f.style.color = '#6b7280';
              f.style.border = '1px solid #d1d5db';
            });
            event.target.style.background = '#3b82f6';
            event.target.style.color = 'white';
            event.target.style.border = '1px solid #3b82f6';
            console.log('ê¸°ê°„ ë³€ê²½:', period);
          }

          // ê°œë³„ ë°ì´í„° ë ˆì´ì–´ í† ê¸€
          function toggleDataLayer(layer) {
            const layerEl = document.getElementById('layer-' + layer);
            const btn = document.getElementById('btn-' + layer);
            if (!layerEl || !btn) return;

            const colors = {
              'participants': '#3b82f6',
              'response': '#8b5cf6',
              'medication': '#22c55e',
              'mood': '#ec4899',
              'sleep': '#a855f7',
              'glucose': '#f59e0b'
            };
            const color = colors[layer];

            if (layerEl.style.display === 'none') {
              layerEl.style.display = 'block';
              btn.style.background = color;
              btn.style.color = 'white';
              btn.style.borderColor = color;
            } else {
              layerEl.style.display = 'none';
              btn.style.background = 'white';
              btn.style.color = color;
              btn.style.borderColor = color;
            }
          }

          // ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ ì „ì²´ í† ê¸€
          function toggleRangeBands() {
            const checkbox = document.getElementById('show-range');
            const bands = document.getElementById('range-bands');
            if (bands) {
              // ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ pathë“¤ë§Œ ìˆ¨ê¸°ê¸° (ë¼ì¸ì€ ìœ ì§€)
              const bandPaths = bands.querySelectorAll('path[fill^="url"]');
              bandPaths.forEach(p => {
                p.style.display = checkbox.checked ? 'block' : 'none';
              });
            }
          }
        </script>

        <!-- KPI ì¹´ë“œ -->
        <div class="kpi-grid" data-spec="ê°œìš” í˜ì´ì§€ KPI: ì´ ì—°êµ¬ì˜ í•µì‹¬ ì§€í‘œ 4ê°€ì§€. ì°¸ì—¬ì í˜„í™©ì´ ê°€ì¥ ì¤‘ìš”." data-spec-type="kpi" data-priority="1">
          <div class="kpi-card highlight"
               data-spec="í˜„ì¬ ì°¸ì—¬ì: ëª©í‘œ ëŒ€ë¹„ í˜„ì¬ ë“±ë¡ëœ ì°¸ì—¬ì ìˆ˜. ë‹¬ì„±ë¥ ë¡œ ëª¨ì§‘ ì§„í–‰ ìƒí™© íŒŒì•…."
               data-spec-type="kpi"
               data-priority="1"
               data-intent="ëª¨ì§‘ ì§„í–‰ ìƒí™© íŒŒì•…"
               data-look="ë‹¬ì„±ë¥  %, ì „ì£¼ ëŒ€ë¹„ ì¦ê°"
               data-mean-low="<50%: ëª¨ì§‘ ë¶€ì§„, ì¡°ê±´/ë³´ìƒ ì¬ê²€í† "
               data-mean-mid="50-80%: ì •ìƒ ì§„í–‰"
               data-mean-high=">80%: ë§ˆê° ì¤€ë¹„"
               data-action-low="ì¡°ê±´ ì™„í™” / ë³´ìƒ ìƒí–¥ / ì±„ë„ í™•ëŒ€"
               data-threshold-warn="50"
               data-threshold-good="80">
            <div class="label">í˜„ì¬ ì°¸ì—¬ì</div>
            <div class="value">87</div>
            <div class="sub">ëª©í‘œ 100ëª… ì¤‘ 87%</div>
          </div>
          <div class="kpi-card"
               data-spec="í™œì„± ì°¸ì—¬ì: ìµœê·¼ 7ì¼ ë‚´ ë°ì´í„° ì œì¶œí•œ ì°¸ì—¬ì. ì´íƒˆ ê°ì§€ í•µì‹¬ ì§€í‘œ."
               data-spec-type="kpi"
               data-priority="2"
               data-intent="ì´íƒˆ ê°ì§€"
               data-look="í™œì„±ë¥  (í™œì„±/ì „ì²´), ì „ì£¼ ëŒ€ë¹„"
               data-mean-low="<60%: ğŸš¨ ì´íƒˆ ê²½ê³ "
               data-mean-mid="60-80%: âš ï¸ ì£¼ì˜"
               data-mean-high=">80%: âœ… ê±´ê°•"
               data-action-low="ë¹„í™œì„±ì ëª©ë¡ â†’ ë¦¬ë§ˆì¸ë” â†’ ì›ì¸ ë¶„ì„"
               data-threshold-critical="50"
               data-threshold-warn="70"
               data-threshold-good="80">
            <div class="label">í™œì„± ì°¸ì—¬ì</div>
            <div class="value">82</div>
            <div class="sub">ìµœê·¼ 7ì¼ ë‚´ ë°ì´í„° ì œì¶œ</div>
            <div class="change up">+3 ì´ë²ˆ ì£¼</div>
          </div>
          <div class="kpi-card"
               data-spec="í‰ê·  ì™„ë£Œìœ¨: ì¼ì¼ ë°ì´í„° ì œì¶œ ê¸°ì¤€ ì™„ë£Œìœ¨. 5ê°œ í•­ëª© ì „ë¶€ ì…ë ¥ ì‹œ ìœ íš¨."
               data-spec-type="kpi"
               data-priority="2"
               data-intent="ìˆ˜ì§‘ ë‚œì´ë„ ì ì •ì„± íŒŒì•…"
               data-look="ì™„ë£Œìœ¨ %, íŠ¹ì • í•­ëª© ë¯¸ì œì¶œ íŒ¨í„´"
               data-mean-low="<60%: í•­ëª© ê³¼ë‹¤ or ì°¸ì—¬ í”¼ë¡œ"
               data-mean-mid="60-80%: íŠ¹ì • í•­ëª© ë¶€ë‹´"
               data-mean-high=">80%: ì ì • ë‚œì´ë„"
               data-action-low="ë¯¸ì œì¶œ í•­ëª© ë¶„ì„ â†’ í•„ìˆ˜â†’ì„ íƒ ì „í™˜ / ë¹ˆë„ ì¡°ì •"
               data-threshold-critical="50"
               data-threshold-warn="70"
               data-threshold-good="80">
            <div class="label">í‰ê·  ì™„ë£Œìœ¨</div>
            <div class="value">85%</div>
            <div class="sub">ì¼ì¼ ë°ì´í„° ì œì¶œ ê¸°ì¤€</div>
            <div class="change up">+2% ì§€ë‚œ ì£¼ ëŒ€ë¹„</div>
          </div>
          <div class="kpi-card"
               data-spec="ì´ ë°ì´í„° í¬ì¸íŠ¸: ìˆ˜ì§‘ëœ ì „ì²´ ë°ì´í„° ìˆ˜. k-Anonymity ì ìš©ìœ¼ë¡œ í”„ë¼ì´ë²„ì‹œ ë³´í˜¸."
               data-spec-type="data"
               data-intent="ì „ì²´ ë°ì´í„° ê·œëª¨ íŒŒì•…"
               data-look="ì¼ì¼ ì¦ê°€ëŸ‰, ì°¸ì—¬ìë‹¹ í‰ê· "
               data-mean-low="ì¼ì¼ ì¦ê°€ < ì˜ˆìƒ 50%: ì œì¶œë¥  ì €ì¡°"
               data-action-low="í™œì„± ì°¸ì—¬ì KPIì™€ ì—°ê³„ ë¶„ì„">
            <div class="label">ì´ ë°ì´í„° í¬ì¸íŠ¸</div>
            <div class="value">12,847</div>
            <div class="sub">k-Anonymity ì ìš©ë¨</div>
          </div>
        </div>

        <!-- ì°¨íŠ¸ í–‰ -->
        <div class="chart-row">
          <!-- ì°¸ì—¬ì ë“±ë¡ ì¶”ì´ -->
          <div class="chart-card"
               data-spec="ì°¸ì—¬ì ë“±ë¡ ì¶”ì´: ëª¨ì§‘ ì‹œì‘ì¼ë¶€í„° í˜„ì¬ê¹Œì§€ ì°¸ì—¬ì ë“±ë¡ ê·¸ë˜í”„. ëª©í‘œì„  í•¨ê»˜ í‘œì‹œ."
               data-spec-type="data"
               data-priority="2"
               data-intent="ëª¨ì§‘ ì†ë„ ë° ëª©í‘œ ëŒ€ë¹„ ì§„í–‰ íŒŒì•…"
               data-look="ê¸°ìš¸ê¸°(ë“±ë¡ ì†ë„), ëª©í‘œì„  ëŒ€ë¹„, í‰íƒ„ êµ¬ê°„(ì •ì²´ ì‹œì )"
               data-mean="ê¸°ìš¸ê¸°â†“: ëª¨ì§‘ ë‘”í™” | ëª©í‘œì„  ì•„ë˜: ë§ˆê° ìœ„í—˜ | ê¸‰ìƒìŠ¹ í›„ ì •ì²´: ì´ˆê¸° ë°˜ì‘ í›„ í¬í™”"
               data-action="ë‘”í™”â†’ì±„ë„ ì¶”ê°€/ì¡°ê±´ ì™„í™” | ëª©í‘œ ë¯¸ë‹¬â†’ë§ˆê° ì—°ì¥ | ì •ì²´â†’ìƒˆ íƒ€ê²Ÿ ë°œêµ´">
            <h3>
              ì°¸ì—¬ì ë“±ë¡ ì¶”ì´
              <span class="filter" data-spec="ê¸°ê°„ í•„í„°: 30ì¼, 60ì¼, ì „ì²´ ê¸°ê°„ ì„ íƒ ê°€ëŠ¥." data-spec-type="action">ì „ì²´ ê¸°ê°„</span>
            </h3>
            <div class="enrollment-chart">
              <div class="y-axis">
                <span>100</span>
                <span>75</span>
                <span>50</span>
                <span>25</span>
                <span>0</span>
              </div>
              <div class="x-axis">
                <span>1ì¼</span>
                <span>5ì¼</span>
                <span>10ì¼</span>
                <span>15ì¼</span>
                <span>20ì¼</span>
                <span>25ì¼</span>
                <span>30ì¼</span>
              </div>
              <div class="chart-area">
                <div class="line"></div>
                <div class="target-line"></div>
                <div class="target-label">ëª©í‘œ: 100ëª…</div>
              </div>
            </div>
          </div>

          <!-- ì¼ë³„ ë°ì´í„° ìˆ˜ì§‘ í˜„í™© (ë“±ë¡ ì¶”ì´ ì˜¤ë¥¸ìª½) -->
          <div class="chart-card"
               data-spec="ì¼ë³„ ë°ì´í„° ìˆ˜ì§‘ í˜„í™©: íˆíŠ¸ë§µìœ¼ë¡œ ì¼ë³„ ì‘ë‹µë¥  í‘œì‹œ. ìƒ‰ì´ ì§„í• ìˆ˜ë¡ ìˆ˜ì§‘ëŸ‰ ë§ìŒ."
               data-spec-type="data"
               data-changed="ì „ì²´ ê¸°ê°„ í‘œì‹œ, ê¸°ê°„ í•„í„° ì¶”ê°€"
               data-priority="2"
               data-intent="ì°¸ì—¬ìë³„/ë‚ ì§œë³„ ì œì¶œ íŒ¨í„´ íŒŒì•…, ì´íƒˆ ì¡°ê¸° ê°ì§€"
               data-look="ì„¸ë¡œì¤„ ë¹ˆ ê³³(íŠ¹ì • ë‚ ì§œ ì „ì²´ ë¯¸ì œì¶œ), ê°€ë¡œì¤„ ë¹ˆ ê³³(íŠ¹ì • ì°¸ì—¬ì ì—°ì† ë¯¸ì œì¶œ), ì „ì²´ ì—°í•´ì§"
               data-mean="ì„¸ë¡œ ë¹µê¾¸: ì‹œìŠ¤í…œ ì¥ì• /ê³µíœ´ì¼ | ê°€ë¡œ ë¹µê¾¸: ê°œë³„ ì´íƒˆ | ì „ì²´ ì—°í•´ì§: ì°¸ì—¬ í”¼ë¡œ"
               data-action="ì„¸ë¡œâ†’ì‹œìŠ¤í…œ ë¡œê·¸ í™•ì¸ | ê°€ë¡œâ†’ê°œë³„ ë¦¬ë§ˆì¸ë”(3íšŒ+ì‹œ ì—°ë½) | ì „ì²´ í•˜ë½â†’ë¹ˆë„ ì¶•ì†Œ/ì¤‘ê°„ ë³´ìƒ">
            <h3>ì¼ë³„ ë°ì´í„° ìˆ˜ì§‘ í˜„í™© <span class="filter" data-spec="ê¸°ê°„ í•„í„°: 30ì¼, 90ì¼, ì „ì²´ ê¸°ê°„ ì„ íƒ ê°€ëŠ¥.">ì „ì²´ ê¸°ê°„</span></h3>
            <div class="heatmap-grid">
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l2"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l2"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l2"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l4"></div>
              <div class="heatmap-cell l3"></div>
              <div class="heatmap-cell l4"></div>
            </div>
            <div class="heatmap-legend">
              <span>ì ìŒ</span>
              <div class="heatmap-cell l0" style="display:inline-block;"></div>
              <div class="heatmap-cell l1" style="display:inline-block;"></div>
              <div class="heatmap-cell l2" style="display:inline-block;"></div>
              <div class="heatmap-cell l3" style="display:inline-block;"></div>
              <div class="heatmap-cell l4" style="display:inline-block;"></div>
              <span>ë§ìŒ</span>
            </div>
          </div>

          <!-- ë°ì´í„° ìˆ˜ì§‘ë¥  (ì„¸ì…˜ ë‹¨ìœ„) -->
          <div class="chart-card">
            <h3>ì¼ì¼ ì œì¶œ í˜„í™©</h3>
            <div class="donut-container">
              <div class="donut">
                <span class="percent">85%</span>
              </div>
              <div class="donut-legend">
                <div class="item"><div class="dot complete"></div> ì œì¶œ ì™„ë£Œ: 70ëª…</div>
                <div class="item"><div class="dot missing"></div> ë¯¸ì œì¶œ: 17ëª…</div>
                <div style="font-size: 11px; color: #6b7280; margin-top: 8px; padding-top: 8px; border-top: 1px solid #e5e7eb;">
                  â€» 5ê°œ í•­ëª© ì „ë¶€ ì…ë ¥ ì‹œ ìœ íš¨
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ìˆ˜ì§‘ í•­ëª© (ì„¸ì…˜ ë‹¨ìœ„ - ì „ë¶€ í•„ìˆ˜) -->
        <div class="chart-card" style="margin-bottom: 24px;">
          <h3>ìˆ˜ì§‘ í•­ëª© <span style="font-size: 12px; font-weight: normal; color: #6b7280; margin-left: 8px;">5ê°œ ì „ë¶€ ì…ë ¥ ì‹œ ìœ íš¨ ë ˆì½”ë“œ</span></h3>
          <div class="data-status-grid">
            <div class="data-status-item" style="border-color: #22c55e; background: #f0fdf4;">
              <div class="icon">â¤ï¸</div>
              <div class="name">ì‹¬ë°•ìˆ˜</div>
              <div class="count" style="font-size: 13px; color: #22c55e;">í•„ìˆ˜</div>
            </div>
            <div class="data-status-item" style="border-color: #22c55e; background: #f0fdf4;">
              <div class="icon">ğŸ˜´</div>
              <div class="name">ìˆ˜ë©´</div>
              <div class="count" style="font-size: 13px; color: #22c55e;">í•„ìˆ˜</div>
            </div>
            <div class="data-status-item" style="border-color: #22c55e; background: #f0fdf4;">
              <div class="icon">ğŸ©¸</div>
              <div class="name">í˜ˆë‹¹</div>
              <div class="count" style="font-size: 13px; color: #22c55e;">í•„ìˆ˜</div>
            </div>
            <div class="data-status-item" style="border-color: #22c55e; background: #f0fdf4;">
              <div class="icon">ğŸ’Š</div>
              <div class="name">ë³µì•½</div>
              <div class="count" style="font-size: 13px; color: #22c55e;">í•„ìˆ˜</div>
            </div>
            <div class="data-status-item" style="border-color: #22c55e; background: #f0fdf4;">
              <div class="icon">ğŸ˜Š</div>
              <div class="name">ê¸°ë¶„</div>
              <div class="count" style="font-size: 13px; color: #22c55e;">í•„ìˆ˜</div>
            </div>
          </div>
          <div style="margin-top: 16px; padding: 12px; background: #f9fafb; border-radius: 8px; font-size: 13px; color: #374151;">
            <strong>ì´ ìœ íš¨ ë ˆì½”ë“œ:</strong> 2,047ê°œ (70ëª… Ã— í‰ê·  29.2ì¼) &nbsp;&nbsp;
            <strong>ë³´ìƒ ì§€ê¸‰:</strong> 70ëª… ì™„ë£Œ
          </div>
        </div>

        <!-- ë””ìì´ë„ˆ ë…¸íŠ¸ -->
        <div style="background: linear-gradient(135deg, #fdf4ff, #fae8ff); border: 2px solid #d946ef; border-radius: 12px; padding: 20px; margin-top: 24px;">
          <h3 style="color: #a21caf; margin-bottom: 16px; font-size: 16px;">ğŸ“‹ ë””ìì´ë„ˆ ë…¸íŠ¸: ì—°êµ¬ ê°œìš”</h3>

          <div style="margin-bottom: 14px;">
            <strong style="color: #86198f; display: block; margin-bottom: 4px;">ğŸ”´ ìš°ì„ ìˆœìœ„: Phase 0 (ìµœìš°ì„ )</strong>
            <p style="font-size: 13px; color: #374151; line-height: 1.6;">ì—°êµ¬ìê°€ ê°€ì¥ ë¨¼ì €, ê°€ì¥ ìì£¼ ë³´ëŠ” í™”ë©´. ì—°êµ¬ ì „ì²´ ì§„í–‰ ìƒí™©ì„ í•œëˆˆì— íŒŒì•…í•˜ëŠ” ëŒ€ì‹œë³´ë“œ.</p>
          </div>

          <div style="margin-bottom: 14px;">
            <strong style="color: #86198f; display: block; margin-bottom: 4px;">êµ¬ì„± ìš”ì†Œ</strong>
            <ul style="font-size: 13px; color: #374151; line-height: 1.8; padding-left: 20px;">
              <li><strong>í”„ë¡œì íŠ¸ ì§€ê°‘ ì¹´ë“œ</strong> (ìš°ìƒë‹¨, ë‹¤í¬): ì´ ì—°êµ¬ ì „ìš© XRPL ì—ìŠ¤í¬ë¡œ ì”ì•¡ + ì§€ê¸‰í˜„í™©. ì—°êµ¬ë³„ ì˜ˆì‚° ì†Œì§„ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ í‘œì‹œ</li>
              <li><strong>íƒ­ ë„¤ë¹„ê²Œì´ì…˜</strong>: ê°œìš” Â· í…Œì´ë¸” Â· AI í—ˆë¸Œ â€” ì—°êµ¬ ë‚´ 3ê°€ì§€ ë·° ì „í™˜</li>
              <li><strong>í†µí•© ì°¨íŠ¸ ì˜ì—­</strong>: 4ê°œ ì„œë¸Œíƒ­(ë°ì´í„° ìˆ˜ì§‘ / ê°€ì„¤ ê²€ì¦ / ì°¸ì—¬ì ë“±ë¡ / ì˜ˆì‚° ì‚¬ìš©). ê°™ì€ ì°¨íŠ¸ ê³µê°„ì—ì„œ ê´€ì ë§Œ ì „í™˜</li>
              <li><strong>ë°ì´í„° í† ê¸€ ë²„íŠ¼</strong>: ì°¨íŠ¸ì— í‘œì‹œí•  ë°ì´í„° ë ˆì´ì–´ on/off (ì°¸ì—¬ì¸ì›, ì‘ë‹µìˆ˜, ë³µì•½, ê¸°ë¶„, ìˆ˜ë©´, í˜ˆë‹¹)</li>
              <li><strong>ìš”ì•½ í†µê³„ 3ì¹¸</strong>: ìˆ˜ì§‘ ì¸ì›(ì°¸ì—¬ì/í™œì„±/ì°¸ì—¬ìœ¨) Â· ì‘ë‹µ ìˆ˜(ì´ì‘ë‹µ/ì¼í‰ê· /ì¶”ì„¸) Â· ë°ì´í„° í’ˆì§ˆ(ì™„ì„±ë„/ë³µì•½ë¥ )</li>
              <li><strong>ë©€í‹°ë¼ì¸ SVG ì°¨íŠ¸</strong>: Xì¶• ë‚ ì§œ, Yì¶• ì´ì¤‘(ì¸ì›+%). ì£¼ë§ ì˜ì—­ íšŒìƒ‰ í‘œì‹œ. ì˜¤ì°¨ë²”ìœ„ ë°´ë“œ ì˜µì…˜</li>
              <li><strong>ì¸ì‚¬ì´íŠ¸ ë°•ìŠ¤</strong> (ì°¨íŠ¸ í•˜ë‹¨): AIê°€ ìë™ ë°œê²¬í•œ íŒ¨í„´/ê²½ê³ . ë…¸ë‘=ê²½ê³ , ì´ˆë¡=ê¸ì •</li>
              <li><strong>AI íŒ¨ë„</strong> (ìš°ì¸¡ ê³ ì •, ë‹¤í¬): ì±„íŒ…í˜• ì¸ì‚¬ì´íŠ¸ + 5ê°œ ë„êµ¬ íƒ­(ì¸ì‚¬ì´íŠ¸/ì¸ê³¼ë¶„ì„/SHAP/What-If/3D). ì—°êµ¬ ë°ì´í„° ê¸°ë°˜ ìì—°ì–´ ì§ˆì˜</li>
            </ul>
          </div>

          <div style="margin-bottom: 14px;">
            <strong style="color: #86198f; display: block; margin-bottom: 4px;">ê°€ì„¤ ê²€ì¦ íƒ­</strong>
            <ul style="font-size: 13px; color: #374151; line-height: 1.8; padding-left: 20px;">
              <li><strong>ê°€ì„¤ ë°•ìŠ¤</strong>: ì—°êµ¬ ì„¤ê³„ ì‹œ ì…ë ¥í•œ ê°€ì„¤ ì›ë¬¸ í‘œì‹œ</li>
              <li><strong>ìƒê´€ê³„ìˆ˜ 3ì¹¸</strong>: ì£¼ìš” ë³€ìˆ˜ ê°„ rê°’ (ìƒ‰ìƒ = ë°©í–¥/ê°•ë„)</li>
              <li><strong>ì‹œê³„ì—´ ì°¨íŠ¸ 3ê°œ</strong>: ì¸ê³¼ê´€ê³„ ì¶”ì´ (ì‹¤í—˜êµ° vs ëŒ€ì¡°êµ°)</li>
              <li><strong>ì¼ì¹˜ë„ ë°°ì§€</strong>: ê°€ì„¤ ë°©í–¥ê³¼ ì‹¤ì œ ë°ì´í„°ì˜ ì¼ì¹˜ ì—¬ë¶€ (âœ…/âš ï¸)</li>
            </ul>
          </div>

          <div style="margin-bottom: 14px;">
            <strong style="color: #86198f; display: block; margin-bottom: 4px;">ì°¸ì—¬ì ë“±ë¡ íƒ­</strong>
            <ul style="font-size: 13px; color: #374151; line-height: 1.8; padding-left: 20px;">
              <li><strong>ëˆ„ì  ë“±ë¡ ë¼ì¸</strong>: ì‹œê°„ ëŒ€ë¹„ ë“±ë¡ì ìˆ˜ ê³¡ì„  + ëª©í‘œì„ </li>
              <li><strong>ìš”ì•½ í†µê³„</strong>: í˜„ì¬/í™œì„±/ëª©í‘œ/ë‚¨ì€ ì¸ì› + ì˜ˆìƒ ì™„ë£Œì¼</li>
            </ul>
          </div>

          <div>
            <strong style="color: #86198f; display: block; margin-bottom: 4px;">ì˜ˆì‚° ì‚¬ìš© íƒ­</strong>
            <ul style="font-size: 13px; color: #374151; line-height: 1.8; padding-left: 20px;">
              <li><strong>ìŠ¤íƒ ë°” ì°¨íŠ¸</strong>: ì§€ê¸‰ì™„ë£Œ(íŒŒë‘) + ì§€ê¸‰ì˜ˆì •(ë³´ë¼) + ì”ì—¬(íšŒìƒ‰)</li>
              <li><strong>ìš”ì•½ í†µê³„</strong>: ì´ì˜ˆì‚°/ì§€ê¸‰ì™„ë£Œ/ì§€ê¸‰ì˜ˆì •/ì”ì—¬ + ì˜ˆìƒ ì†Œì§„ì¼</li>
            </ul>
          </div>
        </div>

        <div class="spec-section">
          <div class="spec-card green">
            <h3 style="color: #047857;">âš™ï¸ ê¸°ëŠ¥ ëª…ì„¸</h3>
            <div class="spec-text">
              <strong>í•µì‹¬ ê¸°ëŠ¥:</strong><br>
              â€¢ ì—°êµ¬ ê°œìš” ëŒ€ì‹œë³´ë“œ (KPI 4ì¢…)<br>
              â€¢ ì°¸ì—¬ì ì¶”ì´ ì°¨íŠ¸ (ê°€ì…/ì´íƒˆ)<br>
              â€¢ ë°ì´í„° ìœ í˜•ë³„ ìˆ˜ì§‘ë¥  í‘œì‹œ<br>
              â€¢ ì¼ë³„ ìˆ˜ì§‘ íˆíŠ¸ë§µ<br>
              â€¢ AI ì¸ì‚¬ì´íŠ¸ íŒ¨ë„ (ì¶”ì²œ/ê²½ê³ )<br><br>

              <strong>í”„ë¼ì´ë²„ì‹œ ë³´í˜¸:</strong><br>
              â€¢ <strong>k-ìµëª…ì„± (kâ‰¥5)</strong>: ëª¨ë“  í†µê³„ì— k-anonymity ì ìš©<br>
              &nbsp;&nbsp;- n < 5: ê²°ê³¼ ìˆ¨ê¹€ ("í‘œë³¸ ë¶€ì¡±" ë©”ì‹œì§€)<br>
              &nbsp;&nbsp;- n = 5~10: "ì£¼ì˜: ì†Œí‘œë³¸" ê²½ê³  ë°°ì§€<br>
              â€¢ <strong>ì°¨ë“± í”„ë¼ì´ë²„ì‹œ (DP)</strong>: ì§‘ê³„ ìˆ˜ì¹˜ì— ë…¸ì´ì¦ˆ ì¶”ê°€<br>
              &nbsp;&nbsp;- Îµ=1.0/ì„¸ì…˜, Î´=10^-5<br>
              &nbsp;&nbsp;- ì‘ë‹µ í—¤ë”: x-dp-epsilon-used, x-dp-epsilon-remaining<br>
              â€¢ ì°¸ì—¬ì ìˆ˜ëŠ” ìµëª… ì§‘ê³„ë§Œ í‘œì‹œ (ê°œì¸ ì‹ë³„ ë¶ˆê°€)<br><br>

              <strong>ABAC ê¶Œí•œ ì œì–´:</strong><br>
              â€¢ <strong>Owner (PI)</strong>: ëª¨ë“  KPI ì¡°íšŒ + íŒ€/ì˜ˆì‚° ê´€ë¦¬<br>
              â€¢ <strong>Member</strong>: KPI ì¡°íšŒ + ë¶„ì„ ì‹¤í–‰<br>
              â€¢ <strong>Viewer</strong>: ëŒ€ì‹œë³´ë“œ ì½ê¸° ì „ìš©<br><br>

              <strong>AI ì–´ì‹œìŠ¤í„´íŠ¸:</strong><br>
              â€¢ íŒ¨í„´ ë°œê²¬ ìë™ ì•Œë¦¼<br>
              â€¢ ì´ìƒì¹˜ ê°ì§€ ë° ì›ì¸ ì¶”ì •<br>
              â€¢ ìì—°ì–´ ë¶„ì„ ìš”ì²­ ì§€ì›
            </div>
          </div>

          <div class="spec-card purple">
            <h3 style="color: #6d28d9;">ğŸ”— ë°±ì—”ë“œ í˜¸ì¶œ</h3>
            <div class="spec-text">
              <details open>
                <summary>1. ì—°êµ¬ ìš”ì•½ í†µê³„ (k-anonymity + DP ì ìš©)</summary>
                <code>
GET /api/v2/projects/:id/summary<br>
Headers: Authorization: Bearer {jwt}<br>
         X-DP-Budget: session  // DP ì˜ˆì‚° ë‹¨ìœ„<br><br>

â†’ 200 OK<br>
{<br>
&nbsp;&nbsp;"project_id": "uuid",<br>
&nbsp;&nbsp;"kpi": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"participants": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"total": 87,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"active": 82,  // ìµœê·¼ 7ì¼ ë°ì´í„° ì œì¶œ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"target": 100,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"k_check": "pass"  // kâ‰¥5 ì¶©ì¡±<br>
&nbsp;&nbsp;&nbsp;&nbsp;},<br>
&nbsp;&nbsp;&nbsp;&nbsp;"collection_rate": 85.2,  // DP ë…¸ì´ì¦ˆ ì ìš©ë¨<br>
&nbsp;&nbsp;&nbsp;&nbsp;"datapoints": 12847,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"dp_applied": true<br>
&nbsp;&nbsp;},<br>
&nbsp;&nbsp;"user_role": "member",  // ABAC ì—­í• <br>
&nbsp;&nbsp;"privacy": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"epsilon_used": 0.15,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"epsilon_remaining": 0.85<br>
&nbsp;&nbsp;}<br>
}<br><br>

// ABAC ì •ì±… ê²€ì¦ (ë‚´ë¶€)<br>
POST /internal/opa/data/access<br>
{ "input": { "user": "uuid", "project": "uuid", "action": "view_summary" } }
                </code>
              </details>

              <details>
                <summary>2. ë°ì´í„° ë¶„í¬ í˜„í™© (íˆíŠ¸ë§µ, ìœ í˜•ë³„ ìˆ˜ì§‘ë¥ )</summary>
                <code>
GET /api/v2/projects/:id/distribution?period=30d<br>
Headers: Authorization: Bearer {jwt}<br><br>

â†’ 200 OK<br>
{<br>
&nbsp;&nbsp;"by_date": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ "date": "2026-01-01", "count": 245, "k_check": "pass" },<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ "date": "2026-01-02", "count": 238, "k_check": "pass" }<br>
&nbsp;&nbsp;],<br>
&nbsp;&nbsp;"required_fields": ["heart_rate", "sleep", "blood_glucose", "medication", "mood"],<br>
&nbsp;&nbsp;"valid_records": 2047,  // 5ê°œ ì „ë¶€ ì…ë ¥ëœ ë ˆì½”ë“œë§Œ<br>
&nbsp;&nbsp;"participants_completed": 70,  // ë³´ìƒ ëŒ€ìƒ<br>
&nbsp;&nbsp;"participants_incomplete": 17,  // ë¯¸ì™„ë£Œ<br>
&nbsp;&nbsp;"heatmap": [  // ì¼ë³„ ìˆ˜ì§‘ ê°•ë„ (0-4 ë ˆë²¨)<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ "date": "2026-01-01", "level": 4 },<br>
&nbsp;&nbsp;&nbsp;&nbsp;{ "date": "2026-01-02", "level": 3 }<br>
&nbsp;&nbsp;],<br>
&nbsp;&nbsp;"small_sample_warning": false  // nâ‰¥20 ì¶©ì¡±<br>
}
                </code>
              </details>

              <details>
                <summary>3. AI íŒ¨í„´/ì´ìƒì¹˜ ë¶„ì„</summary>
                <code>
GET /api/v2/projects/:id/insights<br>
Headers: Authorization: Bearer {jwt}<br><br>

â†’ 200 OK<br>
{<br>
&nbsp;&nbsp;"insights": [ ... ],<br>
&nbsp;&nbsp;"anomalies": [ ... ]<br>
}
                </code>
              </details>
            </div>
          </div>
        </div>

        </div><!-- end content-main -->

        <!-- AI íŒ¨ë„ (ê³ ì •) -->
        <div class="ai-panel">
          <div class="ai-header">
            <h2>
              <span class="dot"></span>
              AI ë¶„ì„ ì–´ì‹œìŠ¤í„´íŠ¸
            </h2>
            <div class="sub">PyWhy ê¸°ë°˜ ì¸ê³¼ì¶”ë¡  Â· 127ê°œ ë³€ìˆ˜ ë¶„ì„ ì¤‘</div>
          </div>

          <!-- ë„êµ¬ íƒ­ -->
          <div style="display: flex; gap: 4px; padding: 12px 16px; border-bottom: 1px solid #334155; overflow-x: auto;">
            <button onclick="showTool('insight')" class="tool-tab active" style="padding: 6px 12px; background: #3b82f6; border: none; border-radius: 6px; color: white; font-size: 11px; cursor: pointer; white-space: nowrap;">ğŸ’¡ ì¸ì‚¬ì´íŠ¸</button>
            <button onclick="showTool('causal')" class="tool-tab" style="padding: 6px 12px; background: #334155; border: none; border-radius: 6px; color: #94a3b8; font-size: 11px; cursor: pointer; white-space: nowrap;">ğŸ” ì¸ê³¼ë¶„ì„</button>
            <button onclick="showTool('shap')" class="tool-tab" style="padding: 6px 12px; background: #334155; border: none; border-radius: 6px; color: #94a3b8; font-size: 11px; cursor: pointer; white-space: nowrap;">ğŸ“Š SHAP</button>
            <button onclick="showTool('whatif')" class="tool-tab" style="padding: 6px 12px; background: #334155; border: none; border-radius: 6px; color: #94a3b8; font-size: 11px; cursor: pointer; white-space: nowrap;">ğŸ¯ What-If</button>
            <button onclick="showTool('3d')" class="tool-tab" style="padding: 6px 12px; background: #334155; border: none; border-radius: 6px; color: #94a3b8; font-size: 11px; cursor: pointer; white-space: nowrap;">ğŸŒ 3D</button>
          </div>

          <div class="ai-body">
            <!-- ì¸ì‚¬ì´íŠ¸ íƒ­ -->
            <div id="tool-insight" class="tool-content">
              <!-- í•µì‹¬ ì¸ì‚¬ì´íŠ¸ (ìƒë‹¨ ê³ ì •) -->
              <div style="background: linear-gradient(135deg, #1e3a5f, #1e293b); border: 1px solid #3b82f6; border-radius: 12px; padding: 16px; margin-bottom: 16px;">
                <h3 style="color: #93c5fd; margin-bottom: 12px; font-size: 14px; display: flex; align-items: center; gap: 8px;">
                  ğŸ’¡ í•µì‹¬ ì¸ì‚¬ì´íŠ¸
                </h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                  <div style="display: flex; gap: 10px; align-items: flex-start; font-size: 13px;">
                    <span>ğŸ“‰</span>
                    <span><span style="color: #60a5fa; font-weight: 600;">ë³µì•½ ìˆœì‘ë„</span>ê°€ ì§€ë‚œ 7ì¼ê°„ <span style="color: #f87171;">15% ê°ì†Œ</span></span>
                  </div>
                  <div style="display: flex; gap: 10px; align-items: flex-start; font-size: 13px;">
                    <span>ğŸ“ˆ</span>
                    <span>ìƒìœ„ 10%ëŠ” <span style="color: #4ade80;">í˜ˆë‹¹ ë³€ë™ì„± 25% ë‚®ìŒ</span></span>
                  </div>
                  <div style="display: flex; gap: 10px; align-items: flex-start; font-size: 13px;">
                    <span>âš ï¸</span>
                    <span><span style="color: #fbbf24; font-weight: 600;">3ëª…</span> ì‹¬ë°•ìˆ˜ ë°ì´í„° ë¯¸ìˆ˜ì§‘</span>
                  </div>
                </div>
              </div>

              <div class="ai-insight">
                <div class="icon">ğŸ’¡</div>
                <div class="text">
                  <strong>í•µì‹¬ ë°œê²¬:</strong> ë³µì•½ ì‹œê°„ê³¼ í˜ˆë‹¹ ë³€ë™ ì‚¬ì´ì— <span class="highlight">ê°•í•œ ì¸ê³¼ê´€ê³„</span>ê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.
                </div>
                <div class="metric">
                  <div class="value">0.42</div>
                  <div class="label">Causal Effect Size</div>
                </div>
              </div>
              <div class="ai-message">
                <div class="ai-bubble">
                  í˜„ì¬ <span class="highlight">127ê°œ ë³€ìˆ˜</span>ì—ì„œ <span class="highlight">89ê°œ ì¸ê³¼ ê´€ê³„</span>ë¥¼ ë°œê²¬í–ˆì–´ìš”.
                </div>
              </div>
            </div>

            <!-- ì¸ê³¼ë¶„ì„ íƒ­ -->
            <div id="tool-causal" class="tool-content" style="display: none;">
              <div style="margin-bottom: 12px;">
                <div style="font-size: 11px; color: #64748b; margin-bottom: 8px;">ì•Œê³ ë¦¬ì¦˜ ì„ íƒ</div>
                <select style="width: 100%; padding: 10px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; color: white; font-size: 13px;">
                  <option>PC Algorithm</option>
                  <option>FCI Algorithm</option>
                  <option>NOTEARS</option>
                </select>
              </div>
              <div style="background: #1e293b; border-radius: 8px; padding: 16px; text-align: center; margin-bottom: 12px;">
                <div style="font-size: 12px; color: #64748b; margin-bottom: 8px;">ì¸ê³¼ ê·¸ë˜í”„ (DAG)</div>
                <div style="height: 150px; background: linear-gradient(135deg, #0f172a, #1e293b); border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #64748b; font-size: 12px;">
                  [DAG ì‹œê°í™” ì˜ì—­]
                </div>
              </div>
              <button style="width: 100%; padding: 12px; background: #3b82f6; border: none; border-radius: 8px; color: white; font-size: 13px; cursor: pointer;">ë¶„ì„ ì‹¤í–‰</button>
            </div>

            <!-- SHAP íƒ­ -->
            <div id="tool-shap" class="tool-content" style="display: none;">
              <div style="margin-bottom: 12px;">
                <div style="font-size: 11px; color: #64748b; margin-bottom: 8px;">íƒ€ê²Ÿ ë³€ìˆ˜</div>
                <select style="width: 100%; padding: 10px; background: #1e293b; border: 1px solid #334155; border-radius: 8px; color: white; font-size: 13px;">
                  <option>í˜ˆë‹¹ (mg/dL)</option>
                  <option>ë³µì•½ ìˆœì‘ë„</option>
                  <option>ì‹¬ë°•ìˆ˜</option>
                </select>
              </div>
              <div style="font-size: 11px; color: #64748b; margin-bottom: 8px;">ë³€ìˆ˜ ì¤‘ìš”ë„</div>
              <div style="background: #1e293b; border-radius: 8px; padding: 12px;">
                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                  <span style="font-size: 12px; width: 60px;">ë³µì•½ì‹œê°„</span>
                  <div style="flex: 1; height: 16px; background: #334155; border-radius: 4px; overflow: hidden;">
                    <div style="width: 85%; height: 100%; background: #3b82f6;"></div>
                  </div>
                  <span style="font-size: 11px; color: #60a5fa;">0.42</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                  <span style="font-size: 12px; width: 60px;">ìˆ˜ë©´</span>
                  <div style="flex: 1; height: 16px; background: #334155; border-radius: 4px; overflow: hidden;">
                    <div style="width: 65%; height: 100%; background: #22c55e;"></div>
                  </div>
                  <span style="font-size: 11px; color: #4ade80;">0.31</span>
                </div>
                <div style="display: flex; align-items: center; gap: 8px;">
                  <span style="font-size: 12px; width: 60px;">í™œë™ëŸ‰</span>
                  <div style="flex: 1; height: 16px; background: #334155; border-radius: 4px; overflow: hidden;">
                    <div style="width: 45%; height: 100%; background: #f59e0b;"></div>
                  </div>
                  <span style="font-size: 11px; color: #fbbf24;">0.22</span>
                </div>
              </div>
            </div>

            <!-- What-If íƒ­ -->
            <div id="tool-whatif" class="tool-content" style="display: none;">
              <div style="font-size: 11px; color: #64748b; margin-bottom: 8px;">ê°œì… ì‹œë®¬ë ˆì´ì…˜</div>
              <div style="background: #1e293b; border-radius: 8px; padding: 12px; margin-bottom: 12px;">
                <div style="font-size: 12px; margin-bottom: 8px;">ë³µì•½ ì‹œê°„ì„ ì•„ì¹¨ 8ì‹œë¡œ ë³€ê²½í•˜ë©´?</div>
                <input type="range" style="width: 100%; margin-bottom: 8px;">
                <div style="display: flex; justify-content: space-between; font-size: 11px; color: #64748b;">
                  <span>6ì‹œ</span>
                  <span style="color: #3b82f6; font-weight: 600;">8ì‹œ</span>
                  <span>12ì‹œ</span>
                </div>
              </div>
              <div class="ai-insight" style="margin-bottom: 0;">
                <div style="font-size: 12px;"><strong>ì˜ˆì¸¡ ê²°ê³¼:</strong></div>
                <div style="font-size: 13px; margin-top: 8px;">í˜ˆë‹¹ ë³€ë™ì„± <span style="color: #4ade80; font-weight: 600;">-18%</span> ê°ì†Œ ì˜ˆìƒ</div>
              </div>
            </div>

            <!-- 3D íƒ­ -->
            <div id="tool-3d" class="tool-content" style="display: none;">
              <div style="background: #0f172a; border-radius: 8px; height: 250px; display: flex; align-items: center; justify-content: center; margin-bottom: 12px;">
                <div style="text-align: center; color: #64748b;">
                  <div style="font-size: 32px; margin-bottom: 8px;">ğŸŒ</div>
                  <div style="font-size: 12px;">3D ì¸ê³¼ ë„¤íŠ¸ì›Œí¬</div>
                  <div style="font-size: 11px;">127ê°œ ë³€ìˆ˜ Â· 89ê°œ ê´€ê³„</div>
                </div>
              </div>
              <div style="display: flex; gap: 8px;">
                <button style="flex: 1; padding: 10px; background: #334155; border: none; border-radius: 6px; color: #94a3b8; font-size: 12px; cursor: pointer;">íšŒì „</button>
                <button style="flex: 1; padding: 10px; background: #334155; border: none; border-radius: 6px; color: #94a3b8; font-size: 12px; cursor: pointer;">í™•ëŒ€</button>
                <button style="flex: 1; padding: 10px; background: #3b82f6; border: none; border-radius: 6px; color: white; font-size: 12px; cursor: pointer;">ì „ì²´í™”ë©´</button>
              </div>
            </div>
          </div>

          <div class="ai-footer">
            <div class="ai-input-row">
              <input type="text" class="ai-input" placeholder="ë¶„ì„ ìš”ì²­í•˜ê¸°...">
              <button class="ai-send-btn">â†’</button>
            </div>
          </div>
        </div><!-- end ai-panel -->

        <script>
          function showTool(tool) {
            document.querySelectorAll('.tool-content').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.tool-tab').forEach(el => {
              el.style.background = '#334155';
              el.style.color = '#94a3b8';
            });
            document.getElementById('tool-' + tool).style.display = 'block';
            event.target.style.background = '#3b82f6';
            event.target.style.color = 'white';
          }
        </script>

        </div><!-- end content-wrapper -->
    </div><!-- end main -->
  </div><!-- end layout -->
  <script src="page-spec.js"></script>
  <link rel="stylesheet" href="../tooltip-spec.css">
  <script src="../tooltip-spec.js"></script>
</body>
</html>
