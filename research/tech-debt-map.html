<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UniQdata â€” ê¸°ìˆ ë¶€ì±„ ë§µ & í•´ê²° ê³„íš</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#f8fafc;color:#1e293b;line-height:1.6;}
.container{max-width:1200px;margin:0 auto;padding:32px 24px;}

/* Header */
.doc-header{margin-bottom:32px;border-bottom:2px solid #e2e8f0;padding-bottom:20px;}
.doc-title{font-size:28px;font-weight:800;color:#0f172a;margin-bottom:4px;}
.doc-sub{font-size:14px;color:#64748b;}
.doc-meta{display:flex;gap:16px;margin-top:12px;font-size:12px;color:#94a3b8;}
.doc-meta span{display:flex;align-items:center;gap:4px;}

/* Navigation */
.nav-bar{position:sticky;top:0;background:rgba(248,250,252,.95);backdrop-filter:blur(8px);border-bottom:1px solid #e2e8f0;padding:12px 0;margin-bottom:24px;z-index:100;display:flex;gap:8px;flex-wrap:wrap;}
.nav-btn{padding:6px 14px;border:1px solid #e2e8f0;border-radius:6px;background:white;font-size:12px;color:#64748b;cursor:pointer;transition:all .15s;text-decoration:none;}
.nav-btn:hover{border-color:#3b82f6;color:#3b82f6;}
.nav-btn.active{background:#3b82f6;color:white;border-color:#3b82f6;}

/* Section */
.section{margin-bottom:40px;}
.section-title{font-size:20px;font-weight:700;color:#0f172a;margin-bottom:16px;display:flex;align-items:center;gap:8px;}
.section-title .num{background:#3b82f6;color:white;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:13px;flex-shrink:0;}

/* Heat Map Table */
.heat-map{width:100%;border-collapse:collapse;font-size:11px;margin-bottom:16px;background:white;border-radius:8px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.06);}
.heat-map th{background:#f1f5f9;padding:8px 10px;text-align:left;font-weight:600;color:#475569;border-bottom:1px solid #e2e8f0;position:sticky;top:0;}
.heat-map th.rotate{writing-mode:vertical-lr;text-orientation:mixed;transform:rotate(180deg);min-width:36px;text-align:center;padding:10px 4px;height:120px;}
.heat-map td{padding:6px 10px;border-bottom:1px solid #f1f5f9;vertical-align:middle;}
.heat-map tr:hover{background:#f8fafc;}
.heat-map .scenario-name{font-weight:600;color:#1e293b;white-space:nowrap;}
.heat-map .scenario-type{font-size:10px;color:#94a3b8;display:block;}

/* Impact cells */
.impact{width:32px;height:32px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:10px;margin:0 auto;}
.impact.critical{background:#fecaca;color:#991b1b;}
.impact.high{background:#fed7aa;color:#9a3412;}
.impact.medium{background:#fef08a;color:#854d0e;}
.impact.low{background:#d1fae5;color:#065f46;}
.impact.none{background:#f1f5f9;color:#cbd5e1;}

/* Debt Cards */
.debt-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(360px,1fr));gap:16px;margin-bottom:16px;}
.debt-card{background:white;border:1px solid #e2e8f0;border-radius:10px;padding:20px;position:relative;overflow:hidden;}
.debt-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;}
.debt-card.p1::before{background:#ef4444;}
.debt-card.p2::before{background:#f97316;}
.debt-card.p3::before{background:#eab308;}
.debt-card.p4::before{background:#22c55e;}
.debt-id{font-size:10px;color:#94a3b8;font-weight:600;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px;}
.debt-name{font-size:16px;font-weight:700;color:#0f172a;margin-bottom:8px;}
.debt-desc{font-size:13px;color:#64748b;margin-bottom:12px;}
.debt-stats{display:flex;gap:16px;margin-bottom:12px;}
.debt-stat{text-align:center;}
.debt-stat .val{font-size:18px;font-weight:700;color:#0f172a;}
.debt-stat .label{font-size:10px;color:#94a3b8;}
.debt-tags{display:flex;flex-wrap:wrap;gap:4px;}
.debt-tag{font-size:10px;padding:2px 8px;border-radius:4px;background:#f1f5f9;color:#64748b;}
.debt-tag.affected{background:#fef2f2;color:#991b1b;}

/* Solution blocks */
.solution-block{background:white;border:1px solid #e2e8f0;border-radius:10px;padding:20px;margin-bottom:16px;}
.sol-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;}
.sol-title{font-size:15px;font-weight:700;color:#0f172a;}
.sol-priority{font-size:10px;font-weight:700;padding:3px 10px;border-radius:4px;}
.sol-priority.p1{background:#fecaca;color:#991b1b;}
.sol-priority.p2{background:#fed7aa;color:#9a3412;}
.sol-priority.p3{background:#fef08a;color:#854d0e;}
.sol-research{font-size:12px;color:#3b82f6;margin-bottom:8px;}
.sol-problem{font-size:13px;color:#64748b;margin-bottom:12px;padding:10px;background:#f8fafc;border-radius:6px;border-left:3px solid #e2e8f0;}
.sol-approach{margin-bottom:12px;}
.sol-approach h4{font-size:12px;font-weight:700;color:#475569;margin-bottom:6px;}
.sol-step{display:flex;gap:8px;margin-bottom:6px;font-size:12px;color:#334155;}
.sol-step .step-num{background:#3b82f6;color:white;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:9px;font-weight:700;flex-shrink:0;margin-top:2px;}
.sol-code{background:#1e293b;color:#e2e8f0;padding:12px 16px;border-radius:6px;font-family:'JetBrains Mono',monospace;font-size:11px;overflow-x:auto;margin:8px 0;line-height:1.5;}
.sol-code .comment{color:#64748b;}
.sol-code .keyword{color:#7dd3fc;}
.sol-code .string{color:#86efac;}
.sol-code .type{color:#fbbf24;}

/* Wireframe impact */
.wireframe-impact{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:16px;}
.wf-card{background:white;border:1px solid #e2e8f0;border-radius:8px;padding:16px;text-align:center;}
.wf-tab{font-size:11px;font-weight:700;color:#3b82f6;text-transform:uppercase;letter-spacing:.5px;margin-bottom:6px;}
.wf-changes{text-align:left;font-size:12px;color:#475569;}
.wf-changes li{margin-bottom:4px;list-style:none;padding-left:16px;position:relative;}
.wf-changes li::before{content:'â†’';position:absolute;left:0;color:#3b82f6;}

/* Timeline / Roadmap */
.roadmap{position:relative;padding-left:28px;margin-bottom:16px;}
.roadmap::before{content:'';position:absolute;left:10px;top:0;bottom:0;width:2px;background:#e2e8f0;}
.rm-phase{position:relative;margin-bottom:24px;}
.rm-dot{position:absolute;left:-24px;top:2px;width:14px;height:14px;border-radius:50%;border:3px solid white;box-shadow:0 0 0 2px #e2e8f0;}
.rm-dot.p1{background:#ef4444;box-shadow:0 0 0 2px #ef4444;}
.rm-dot.p2{background:#f97316;box-shadow:0 0 0 2px #f97316;}
.rm-dot.p3{background:#eab308;box-shadow:0 0 0 2px #eab308;}
.rm-dot.p4{background:#22c55e;box-shadow:0 0 0 2px #22c55e;}
.rm-title{font-size:14px;font-weight:700;color:#0f172a;margin-bottom:2px;}
.rm-time{font-size:11px;color:#94a3b8;margin-bottom:8px;}
.rm-items{font-size:12px;color:#475569;}
.rm-items li{margin-bottom:3px;list-style:none;padding-left:14px;position:relative;}
.rm-items li::before{content:'â€¢';position:absolute;left:0;color:#94a3b8;}
.rm-unlock{font-size:11px;color:#3b82f6;font-weight:600;margin-top:6px;padding-left:14px;}

/* Intersection diagram */
.intersection{background:white;border:1px solid #e2e8f0;border-radius:10px;padding:20px;margin-bottom:16px;}
.int-row{display:flex;gap:12px;margin-bottom:8px;align-items:center;}
.int-label{width:160px;font-size:12px;font-weight:600;color:#475569;text-align:right;flex-shrink:0;}
.int-bar{flex:1;height:24px;background:#f1f5f9;border-radius:4px;position:relative;overflow:hidden;}
.int-fill{height:100%;border-radius:4px;display:flex;align-items:center;padding-left:8px;font-size:10px;color:white;font-weight:600;}
.int-fill.high{background:linear-gradient(90deg,#ef4444,#f97316);}
.int-fill.med{background:linear-gradient(90deg,#f97316,#eab308);}
.int-fill.low{background:linear-gradient(90deg,#22c55e,#10b981);}

/* Legend */
.legend{display:flex;gap:16px;margin-bottom:16px;font-size:11px;color:#64748b;}
.legend-item{display:flex;align-items:center;gap:4px;}
.legend-dot{width:12px;height:12px;border-radius:2px;}

/* Summary box */
.summary-box{background:linear-gradient(135deg,#eff6ff,#f0f9ff);border:1px solid #bfdbfe;border-radius:10px;padding:20px;margin-bottom:16px;}
.summary-box h3{font-size:14px;font-weight:700;color:#1e40af;margin-bottom:8px;}
.summary-box p{font-size:13px;color:#1e3a5f;}

.print-only{display:none;}
@media print{.nav-bar{display:none;}.print-only{display:block;}}
</style>
</head>
<body>
<div class="container">

<!-- Header -->
<div class="doc-header">
  <div class="doc-title">UniQdata ê¸°ìˆ ë¶€ì±„ ë§µ & í•´ê²° ê³„íš</div>
  <div class="doc-sub">10ê°œ ì—°êµ¬ ì‹œë‚˜ë¦¬ì˜¤ Ã— 6ê°œ ê¸°ìˆ ë¶€ì±„ ì¹´í…Œê³ ë¦¬ â€” ë¦¬ì„œì¹˜ ê¸°ë°˜ ì†”ë£¨ì…˜</div>
  <div class="doc-meta">
    <span>ğŸ“… 2026-02-16</span>
    <span>ğŸ“Š v9 3-tab í†µí•© ë°ëª¨ ê¸°ì¤€</span>
    <span>ğŸ”¬ 4ê°œ ì‹¬ì¸µ ë¦¬ì„œì¹˜ ê²°ê³¼ ë°˜ì˜</span>
  </div>
</div>

<!-- Navigation -->
<div class="nav-bar" id="nav">
  <a class="nav-btn active" href="#overview" onclick="scrollToSection('overview')">ìš”ì•½</a>
  <a class="nav-btn" href="#heatmap" onclick="scrollToSection('heatmap')">íˆíŠ¸ë§µ</a>
  <a class="nav-btn" href="#debts" onclick="scrollToSection('debts')">6ëŒ€ ë¶€ì±„</a>
  <a class="nav-btn" href="#solutions" onclick="scrollToSection('solutions')">ì†”ë£¨ì…˜</a>
  <a class="nav-btn" href="#wireframe" onclick="scrollToSection('wireframe')">ì™€ì´ì–´í”„ë ˆì„ ì˜í–¥</a>
  <a class="nav-btn" href="#roadmap" onclick="scrollToSection('roadmap')">ë¡œë“œë§µ</a>
</div>

<!-- ============================================================ -->
<!-- 1. EXECUTIVE SUMMARY -->
<!-- ============================================================ -->
<div class="section" id="overview">
  <div class="section-title"><span class="num">1</span> í•µì‹¬ ìš”ì•½</div>

  <div class="summary-box">
    <h3>í˜„ì¬ v9 ì™€ì´ì–´í”„ë ˆì„ì˜ í•œê³„</h3>
    <p>í˜„ì¬ v9ì€ <strong>"GLP-1 ì²´ì¤‘ê°ëŸ‰ 24ì£¼ RCT"</strong>ë¼ëŠ” ë‹¨ì¼ ì‹œë‚˜ë¦¬ì˜¤ì— ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
    10ê°œ ì—°êµ¬ ì‹œë‚˜ë¦¬ì˜¤ë¡œ í™•ì¥ í…ŒìŠ¤íŠ¸í•œ ê²°ê³¼, <strong>6ê°œ êµ¬ì¡°ì  ê¸°ìˆ ë¶€ì±„</strong>ê°€ ë°œê²¬ë˜ì—ˆìœ¼ë©°,
    ì´ ì¤‘ <strong>ì‹œê°„ì¶• ê²½ì§ì„±</strong>ì´ ê°€ì¥ ê´‘ë²”ìœ„í•œ ì˜í–¥(8/10 ì‹œë‚˜ë¦¬ì˜¤)ì„ ë¯¸ì¹©ë‹ˆë‹¤.</p>
  </div>

  <!-- Intersection bars -->
  <div class="intersection">
    <div style="font-size:13px;font-weight:700;color:#0f172a;margin-bottom:12px;">ê¸°ìˆ ë¶€ì±„ë³„ ì˜í–¥ ë²”ìœ„ (10ê°œ ì‹œë‚˜ë¦¬ì˜¤ ì¤‘)</div>
    <div class="int-row">
      <div class="int-label">TD-1 ì‹œê°„ì¶• ê²½ì§ì„±</div>
      <div class="int-bar"><div class="int-fill high" style="width:80%;">8 / 10</div></div>
    </div>
    <div class="int-row">
      <div class="int-label">TD-2 2-arm RCT ì „ì œ</div>
      <div class="int-bar"><div class="int-fill high" style="width:70%;">7 / 10</div></div>
    </div>
    <div class="int-row">
      <div class="int-label">TD-3 ìˆ«ì ì „ìš© ë°ì´í„°</div>
      <div class="int-bar"><div class="int-fill med" style="width:50%;">5 / 10</div></div>
    </div>
    <div class="int-row">
      <div class="int-label">TD-4 ê³ ì • ì¸¡ì • ë¹ˆë„</div>
      <div class="int-bar"><div class="int-fill high" style="width:60%;">6 / 10</div></div>
    </div>
    <div class="int-row">
      <div class="int-label">TD-5 ìœ íš¨ì„± ì „ìš© í”„ë ˆì„</div>
      <div class="int-bar"><div class="int-fill med" style="width:40%;">4 / 10</div></div>
    </div>
    <div class="int-row">
      <div class="int-label">TD-6 íŒŒìƒ ì§€í‘œ ë¯¸ì§€ì›</div>
      <div class="int-bar"><div class="int-fill med" style="width:50%;">5 / 10</div></div>
    </div>
  </div>

  <div class="summary-box" style="background:linear-gradient(135deg,#fef2f2,#fff1f2);border-color:#fecaca;">
    <h3 style="color:#991b1b;">í•µì‹¬ ë°œê²¬: "ì ‘ì "ì€ ì‹œê°„ì¶•ì´ë‹¤</h3>
    <p>10ê°œ ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë‘ <strong>ì‹œê°„(time)</strong>ì„ Xì¶•ìœ¼ë¡œ ê³µìœ í•©ë‹ˆë‹¤. ì°¨ì´ëŠ” ë‹¨ìœ„(ë¶„/ì¼/ì£¼/ì›”/ë¶„ê¸°)ì™€ ì˜ë¯¸(Study Day vs Calendar vs Visit Window)ë¿ì…ë‹ˆë‹¤.
    ì‹œê°„ì¶•ì„ <strong>semantic zoom + CDISC visit window</strong>ë¡œ ì¼ë°˜í™”í•˜ë©´, ë‚˜ë¨¸ì§€ 5ê°œ ë¶€ì±„ì˜ í•´ê²° ê¸°ë°˜ë„ í•¨ê»˜ ë§ˆë ¨ë©ë‹ˆë‹¤.</p>
  </div>
</div>

<!-- ============================================================ -->
<!-- 2. HEAT MAP -->
<!-- ============================================================ -->
<div class="section" id="heatmap">
  <div class="section-title"><span class="num">2</span> ì‹œë‚˜ë¦¬ì˜¤ Ã— ë¶€ì±„ íˆíŠ¸ë§µ</div>

  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:#fecaca;"></div> Critical â€” ê¸°ëŠ¥ ë¶ˆê°€</div>
    <div class="legend-item"><div class="legend-dot" style="background:#fed7aa;"></div> High â€” ì‹¬ê°í•œ ì œì•½</div>
    <div class="legend-item"><div class="legend-dot" style="background:#fef08a;"></div> Medium â€” ìš°íšŒ ê°€ëŠ¥</div>
    <div class="legend-item"><div class="legend-dot" style="background:#d1fae5;"></div> Low â€” ê²½ë¯¸í•œ ë¶ˆí¸</div>
    <div class="legend-item"><div class="legend-dot" style="background:#f1f5f9;"></div> N/A</div>
  </div>

  <table class="heat-map">
    <thead>
      <tr>
        <th style="min-width:200px;">ì‹œë‚˜ë¦¬ì˜¤</th>
        <th class="rotate">TD-1<br>ì‹œê°„ì¶•</th>
        <th class="rotate">TD-2<br>ì—°êµ¬ì„¤ê³„</th>
        <th class="rotate">TD-3<br>ë°ì´í„°íƒ€ì…</th>
        <th class="rotate">TD-4<br>ì¸¡ì •ë¹ˆë„</th>
        <th class="rotate">TD-5<br>ì•ˆì „ì„±í”„ë ˆì„</th>
        <th class="rotate">TD-6<br>íŒŒìƒì§€í‘œ</th>
        <th style="min-width:80px;">ì´ì </th>
      </tr>
    </thead>
    <tbody id="heatmapBody"></tbody>
  </table>
</div>

<!-- ============================================================ -->
<!-- 3. SIX DEBTS -->
<!-- ============================================================ -->
<div class="section" id="debts">
  <div class="section-title"><span class="num">3</span> 6ëŒ€ ê¸°ìˆ ë¶€ì±„ ìƒì„¸</div>
  <div class="debt-grid" id="debtGrid"></div>
</div>

<!-- ============================================================ -->
<!-- 4. SOLUTIONS -->
<!-- ============================================================ -->
<div class="section" id="solutions">
  <div class="section-title"><span class="num">4</span> ë¦¬ì„œì¹˜ ê¸°ë°˜ ì†”ë£¨ì…˜</div>
  <div id="solutionsContainer"></div>
</div>

<!-- ============================================================ -->
<!-- 5. WIREFRAME IMPACT -->
<!-- ============================================================ -->
<div class="section" id="wireframe">
  <div class="section-title"><span class="num">5</span> v9 â†’ v10 ì™€ì´ì–´í”„ë ˆì„ ë³€ê²½ì </div>

  <div class="wireframe-impact">
    <div class="wf-card">
      <div class="wf-tab">ğŸ“Š ê°œìš” íƒ­</div>
      <ul class="wf-changes">
        <li>íƒ€ì„ë¼ì¸: Study Day ê¸°ë°˜ â†’ semantic zoom (epoch/month/week/day)</li>
        <li>Verdict strip: RCT ì „ìš© â†’ study_type ê¸°ë°˜ ì¡°ê±´ë¶€ ì§ˆë¬¸</li>
        <li>ì§€í‘œ ì¹´ë“œ: numeric-only â†’ ì‚¬ì§„ ê°¤ëŸ¬ë¦¬, severity zone, AGP íŠ¸ë™ ì¶”ê°€</li>
        <li>ê¸°ê°„ ë‹¨ìœ„: W1~W12 í•˜ë“œì½”ë”© â†’ ì—°êµ¬ ë©”íƒ€ë°ì´í„°ì—ì„œ ë™ì  ê³„ì‚°</li>
        <li>ì•ˆì „ì„± íŒ¨ë„: ì—†ìŒ â†’ AE timeline + DLT boundary ìœ„ì ¯</li>
      </ul>
    </div>
    <div class="wf-card">
      <div class="wf-tab">ğŸ” í…Œì´ë¸” íƒ­</div>
      <ul class="wf-changes">
        <li>ë¯¸ë‹ˆ ì°¨íŠ¸: ì£¼ê°„ ê·¸ë¦¬ë“œ â†’ visit-based ê°€ë³€ ê·¸ë¦¬ë“œ</li>
        <li>ìƒì„¸ íŒ¨ë„: ë‹¨ì¼ metric line â†’ multi-track íƒ€ì„ë¼ì¸</li>
        <li>ì´ë¯¸ì§€ ì—´: ì—†ìŒ â†’ ì¸ë„¤ì¼ + before/after ë¹„êµ</li>
        <li>ìƒíƒœ ë°°ì§€: Verified/Query â†’ + Missing Visit, Protocol Deviation</li>
        <li>ì •ë ¬: ê³ ì • ì—´ â†’ metric direction ì¸ì‹ ì •ë ¬ (â†‘ up, â†“ down)</li>
      </ul>
    </div>
    <div class="wf-card">
      <div class="wf-tab">ğŸ”’ í´ë¦°ë£¸ íƒ­</div>
      <ul class="wf-changes">
        <li>ERD: ê³ ì • 12 í…Œì´ë¸” â†’ study_config ê¸°ë°˜ ë™ì  ìŠ¤í‚¤ë§ˆ</li>
        <li>ì‹œê³„ì—´ ì¿¼ë¦¬: raw ë‹¨ì¼ ë ˆë²¨ â†’ ê³„ì¸µ ì§‘ê³„ (rawâ†’hourlyâ†’daily)</li>
        <li>ì´ë¯¸ì§€/íŒŒì¼: ë¯¸ì§€ì› â†’ BLOB ì°¸ì¡° + ì¸ë„¤ì¼ ë¯¸ë¦¬ë³´ê¸°</li>
        <li>ê°€ëª…ì²˜ë¦¬: IDë§Œ â†’ ì‹œê°„ ì¬ë§¤í•‘(date shifting) ì˜µì…˜</li>
        <li>ì¿¼ë¦¬ ë¹Œë”: ì—†ìŒ â†’ smart query router (í•´ìƒë„ ìë™ ì„ íƒ)</li>
      </ul>
    </div>
  </div>
</div>

<!-- ============================================================ -->
<!-- 6. ROADMAP -->
<!-- ============================================================ -->
<div class="section" id="roadmap">
  <div class="section-title"><span class="num">6</span> êµ¬í˜„ ë¡œë“œë§µ</div>

  <div class="summary-box">
    <h3>ì ‘ê·¼ ì „ëµ: "ì‹œê°„ì¶• ë¨¼ì €, ë‚˜ë¨¸ì§€ëŠ” í”ŒëŸ¬ê·¸ì¸"</h3>
    <p>ì‹œê°„ì¶•(TD-1)ì„ ë¨¼ì € ì¼ë°˜í™”í•˜ë©´ ë‚˜ë¨¸ì§€ ë¶€ì±„(TD-2~6)ë¥¼ í•´ê²°í•  <strong>ê¸°ë°˜ ì¸í”„ë¼</strong>ê°€ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
    ì´í›„ ì—°êµ¬ì„¤ê³„ ì–´ëŒ‘í„°, ë°ì´í„°íƒ€ì… ë Œë”ëŸ¬, ì•ˆì „ì„± í”„ë ˆì„ì„ ìˆœì°¨ì ìœ¼ë¡œ í”ŒëŸ¬ê·¸ì¸í•˜ëŠ” ì „ëµì…ë‹ˆë‹¤.</p>
  </div>

  <div class="roadmap">
    <div class="rm-phase">
      <div class="rm-dot p1"></div>
      <div class="rm-title">Phase 1 â€” ì‹œê°„ì¶• ì¼ë°˜í™” (TD-1 + TD-4)</div>
      <div class="rm-time">ìš°ì„ ìˆœìœ„: Critical Â· v10ì— ë°˜ë“œì‹œ ë°˜ì˜</div>
      <ul class="rm-items">
        <li><strong>study_config.timeline</strong> ë„ì… â€” duration_days, phases[], visit_windows[]</li>
        <li>W1~W12 í•˜ë“œì½”ë”© ì œê±° â†’ visit window ê¸°ë°˜ ë™ì  ë¼ë²¨</li>
        <li>Semantic zoom UI: í•€ì¹˜/ë²„íŠ¼ìœ¼ë¡œ epochâ†”monthâ†”weekâ†”day ì „í™˜</li>
        <li>Hierarchical aggregation: raw â†’ hourly â†’ daily â†’ visit 4ê³„ì¸µ</li>
        <li>ë¯¸ë‹ˆ ì°¨íŠ¸ Xì¶•: ê³ ì • ê·¸ë¦¬ë“œ â†’ proportional study day ìŠ¤ì¼€ì¼</li>
      </ul>
      <div class="rm-unlock">â†’ í•´ê¸ˆ: ë””ì§€í„¸ CBT(ì¼ë³„), CGM(5ë¶„), ì‹¬ì¥ì¬í™œ(í˜¼í•©), EMA(ì‹œê°„ë³„), í¬ê·€ì§ˆí™˜(2ë…„) ì‹œë‚˜ë¦¬ì˜¤</div>
    </div>

    <div class="rm-phase">
      <div class="rm-dot p2"></div>
      <div class="rm-title">Phase 2 â€” ì—°êµ¬ì„¤ê³„ ì–´ëŒ‘í„° (TD-2 + TD-5)</div>
      <div class="rm-time">ìš°ì„ ìˆœìœ„: High Â· Phase 1 ì™„ë£Œ í›„</div>
      <ul class="rm-items">
        <li><strong>study_config.design</strong> â€” study_type, has_control_arm, num_arms, primary_endpoint_type</li>
        <li>Verdict strip ì–´ëŒ‘í„°: RCT("ì¹˜ë£Œê°€ ë‚˜ì€ê°€?"), single-arm("ê¸°ì¤€ ì¶©ì¡±?"), safety("DLT ë²”ìœ„ ë‚´?")</li>
        <li>MetricTemplate ë ˆì§€ìŠ¤íŠ¸ë¦¬: ì§€í‘œë³„ direction, comparison_type, threshold ì •ì˜</li>
        <li>ì•ˆì „ì„± í”„ë ˆì„: AE timeline, stopping boundary, DSMB alert ìœ„ì ¯</li>
        <li>Single-arm ëª¨ë“œ: ëŒ€ì¡°êµ° ì œê±° â†’ ëª©í‘œê°’ ê¸°ì¤€ì„ (threshold line) í‘œì‹œ</li>
      </ul>
      <div class="rm-unlock">â†’ í•´ê¸ˆ: ë‹¨ì¼êµ° ìŠ¤íŠ¸ë ˆìŠ¤ì•±, ê¸ˆì—° RCT, ë…¸ì¸ ë‚™ìƒë°©ì§€, ìœ ì „ìì¹˜ë£Œ ì•ˆì „ì„± ì‹œë‚˜ë¦¬ì˜¤</div>
    </div>

    <div class="rm-phase">
      <div class="rm-dot p3"></div>
      <div class="rm-title">Phase 3 â€” ë°ì´í„°íƒ€ì… í™•ì¥ (TD-3 + TD-6)</div>
      <div class="rm-time">ìš°ì„ ìˆœìœ„: Medium Â· Phase 2ì™€ ë³‘í–‰ ê°€ëŠ¥</div>
      <ul class="rm-items">
        <li><strong>Modular metric renderers</strong>: numeric_line, image_gallery, severity_zone, agp_strip, heatmap</li>
        <li>ì´ë¯¸ì§€ ê²°ê³¼ ë³€ìˆ˜: before/after ê°¤ëŸ¬ë¦¬ + SCORAD/EASI ì¤‘ì²©</li>
        <li>PRO/EMA: ì¼ì¤‘ íˆíŠ¸ë§µ + ì‹¬ê°ë„ êµ¬ê°„ (green/yellow/red zones)</li>
        <li>íŒŒìƒ ì§€í‘œ ì—”ì§„: TIR(CGM ë²”ìœ„ë‚´ì‹œê°„), Shannon diversity, composite endpoint ê³„ì‚°</li>
        <li>ë§ˆì´í¬ë¡œë°”ì´ì˜´: stacked bar(ë¬¸/ê³¼) + alpha diversity line + PCA scatter</li>
      </ul>
      <div class="rm-unlock">â†’ í•´ê¸ˆ: AI í”¼ë¶€ì§„ë‹¨(ì‚¬ì§„), CGM+ì‹ì´(TIR), ë§ˆì´í¬ë¡œë°”ì´ì˜´(ë‹¤ì–‘ì„± ì§€ìˆ˜) ì‹œë‚˜ë¦¬ì˜¤</div>
    </div>

    <div class="rm-phase">
      <div class="rm-dot p4"></div>
      <div class="rm-title">Phase 4 â€” ê³ ê¸‰ ë¶„ì„ & í´ë¦°ë£¸ ê°•í™”</div>
      <div class="rm-time">ìš°ì„ ìˆœìœ„: Enhancement Â· Phase 3 ì´í›„</div>
      <ul class="rm-items">
        <li>Smart query router: ì¤Œ ë ˆë²¨ì— ë”°ë¼ ì§‘ê³„ í‹°ì–´ ìë™ ì„ íƒ</li>
        <li>ë™ì  ERD: study_configì— ë”°ë¼ ìŠ¤í‚¤ë§ˆ ìë™ ìƒì„±/í‘œì‹œ</li>
        <li>ë‚ ì§œ ì¬ë§¤í•‘(date shifting): í´ë¦°ë£¸ ê°€ëª…ì²˜ë¦¬ ê°•í™”</li>
        <li>Focus+context: ì „ì²´ íƒ€ì„ë¼ì¸(context) + í™•ëŒ€ êµ¬ê°„(focus) ë™ì‹œ í‘œì‹œ</li>
        <li>Adaptive trial ì§€ì›: interim analysis + sample size re-estimation ìœ„ì ¯</li>
      </ul>
      <div class="rm-unlock">â†’ í•´ê¸ˆ: ì „ì²´ 10ê°œ ì‹œë‚˜ë¦¬ì˜¤ì˜ ì™„ì „í•œ ì§€ì›</div>
    </div>

    <div class="rm-phase">
      <div class="rm-dot" style="background:#94a3b8;box-shadow:0 0 0 2px #94a3b8;"></div>
      <div class="rm-title">Phase 5 â€” ì˜ë£Œ ì˜ìƒ ì—°ë™ (íŒŒíŠ¸ë„ˆ ì—°ë™)</div>
      <div class="rm-time">ìš°ì„ ìˆœìœ„: Future Â· íŒŒíŠ¸ë„ˆ í†µí•© Â· UniQdata ìì²´ êµ¬í˜„ ë²”ìœ„ ë°–</div>
      <ul class="rm-items">
        <li><strong>CT/MRI/PET ì˜ìƒ:</strong> ìì²´ DICOM ë·°ì–´ X â†’ OHIF/3D Slicer ë”¥ë§í¬ ì—°ë™</li>
        <li><strong>dicom_reference ë Œë”ëŸ¬:</strong> ëŒ€í‘œ ìŠ¬ë¼ì´ìŠ¤ ì¸ë„¤ì¼ + ì •ëŸ‰ ì§€í‘œ(ì¢…ì–‘ í¬ê¸° mm, SUVê°’, ë‡Œë¶€í”¼ mL) + ì™¸ë¶€ ë·°ì–´ ë§í¬</li>
        <li><strong>ê°€ëª…ì²˜ë¦¬ í™•ì¥:</strong> DICOM í—¤ë” PHI ìŠ¤íŠ¸ë¦¬í•‘ (í™˜ìëª…, ìƒë…„ì›”ì¼, ê¸°ê´€ëª… ì œê±°)</li>
        <li><strong>ì •ëŸ‰ ì§€í‘œ íŠ¸ë Œë“œ:</strong> ì˜ìƒì—ì„œ ì¶”ì¶œëœ ìˆ˜ì¹˜ë¥¼ ì‹œê³„ì—´ë¡œ ì¶”ì  (V1: 32mm â†’ V3: 18mm)</li>
        <li><strong>FDA ê·œì œ ê³ ë ¤:</strong> ì§„ë‹¨ìš© ë·°ì–´ëŠ” 510(k) ëŒ€ìƒ â†’ UniQdataëŠ” "í‘œì‹œ/ì¶”ì " ì—­í• ë§Œ</li>
        <li><strong>íŒŒíŠ¸ë„ˆ í›„ë³´:</strong> OHIF Viewer(ì˜¤í”ˆì†ŒìŠ¤), Cornerstone.js, Google Cloud Healthcare API</li>
      </ul>
      <div class="rm-unlock" style="color:#94a3b8;">â†’ ë²”ìœ„: UniQdata = ì •ëŸ‰ ì§€í‘œ ì¶”ì  + ì¸ë„¤ì¼ Â· PACS/ë·°ì–´ = ì „ë¬¸ íŒŒíŠ¸ë„ˆ</div>
    </div>
  </div>
</div>

<!-- ============================================================ -->
<!-- 7. CONCLUSION -->
<!-- ============================================================ -->
<div class="section" id="conclusion">
  <div class="section-title"><span class="num">7</span> ê²°ë¡ </div>
  <div class="summary-box" style="background:linear-gradient(135deg,#f0fdf4,#ecfdf5);border-color:#86efac;">
    <h3 style="color:#166534;">v10 í•µì‹¬ ì„¤ê³„ ì›ì¹™</h3>
    <p>
      <strong>1. ì‹œê°„ì€ ì˜ë¯¸ ë‹¨ìœ„ë¡œ</strong> â€” ì£¼ê°„(W1-W12)ì´ ì•„ë‹Œ, ì—°êµ¬ê°€ ì •ì˜í•œ visit windowì™€ study dayë¡œ í‘œí˜„<br>
      <strong>2. ì—°êµ¬ê°€ ìŠ¤ìŠ¤ë¡œ ì„¤ëª…í•˜ê²Œ</strong> â€” study_config ë©”íƒ€ë°ì´í„°ê°€ ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒì„ ê²°ì •<br>
      <strong>3. ë Œë”ëŸ¬ëŠ” í”ŒëŸ¬ê·¸ì¸</strong> â€” ìˆ«ì ë¼ì¸, ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬, AGP, íˆíŠ¸ë§µì€ êµì²´ ê°€ëŠ¥í•œ ëª¨ë“ˆ<br>
      <strong>4. í•´ìƒë„ëŠ” ìë™ìœ¼ë¡œ</strong> â€” ì‚¬ìš©ìê°€ ì¤Œí•˜ë©´ ì‹œìŠ¤í…œì´ ì ì ˆí•œ ì§‘ê³„ ìˆ˜ì¤€ì„ ì„ íƒ<br>
      <strong>5. ì•ˆì „ì„±ì€ ìœ íš¨ì„±ê³¼ ë™ë“±í•˜ê²Œ</strong> â€” AE/SAE íƒ€ì„ë¼ì¸ì´ ëª¨ë“  ì—°êµ¬ì— ê¸°ë³¸ í¬í•¨
    </p>
  </div>
</div>

<div style="text-align:center;padding:20px;color:#94a3b8;font-size:11px;">
  UniQdata Technical Debt Map v1.0 Â· Generated from 4 deep research sessions Â· 2026-02-16
</div>

</div><!-- /container -->

<script>
// ====== DATA ======

const SCENARIOS = [
  {id:'S1', name:'GLP-1 ì²´ì¤‘ê°ëŸ‰ RCT', type:'2-arm RCT Â· 24ì£¼ Â· ì£¼ê°„', scores:[0,0,0,0,0,0]},
  {id:'S2', name:'ë””ì§€í„¸ CBT ë¶ˆë©´ì¦ ì•±', type:'2-arm RCT Â· 8ì£¼ Â· ì¼ë³„', scores:[3,1,1,3,0,1]},
  {id:'S3', name:'CGM + ì‹ì´ì½”ì¹­ ë‹¹ë‡¨ì „ë‹¨ê³„', type:'2-arm RCT Â· 12ì£¼ Â· 5ë¶„ ê°„ê²©', scores:[3,1,2,4,0,4]},
  {id:'S4', name:'ì›ê²© ì‹¬ì¥ì¬í™œ', type:'2-arm RCT Â· 12ì£¼ Â· í˜¼í•©ë¹ˆë„', scores:[3,1,1,4,2,2]},
  {id:'S5', name:'ë§ˆì´í¬ë¡œë°”ì´ì˜´ IBS', type:'2-arm RCT Â· 16ì£¼ Â· ë¶„ê¸°+ì¼ë³„', scores:[3,1,4,3,0,4]},
  {id:'S6', name:'AI í”¼ë¶€ì§„ë‹¨ ì•„í† í”¼', type:'2-arm RCT Â· 12ì£¼ Â· ì‚¬ì§„+ì ìˆ˜', scores:[2,1,4,2,0,3]},
  {id:'S7', name:'ì§ì¥ì¸ ìŠ¤íŠ¸ë ˆìŠ¤ ê´€ë¦¬ ì•±', type:'ë‹¨ì¼êµ° Â· 8ì£¼ Â· ì¼ë³„', scores:[3,4,2,3,0,2]},
  {id:'S8', name:'ë…¸ì¸ ë‚™ìƒë°©ì§€ ìš´ë™', type:'cluster RCT Â· 12ê°œì›” Â· ì›”ë³„', scores:[4,3,1,2,1,2]},
  {id:'S9', name:'ì „ìë‹´ë°° ê¸ˆì—° RCT', type:'3-arm RCT Â· 24ì£¼ Â· EMA', scores:[2,2,2,4,2,2]},
  {id:'S10', name:'ìœ ì „ìì¹˜ë£Œ í¬ê·€ì§ˆí™˜', type:'ë‹¨ì¼êµ° Â· 2ë…„ Â· ì•ˆì „ì„±', scores:[4,4,2,3,4,3]}
];

const DEBT_LABELS = ['ì‹œê°„ì¶• ê²½ì§ì„±','2-arm RCT ì „ì œ','ìˆ«ì ì „ìš© ë°ì´í„°','ê³ ì • ì¸¡ì • ë¹ˆë„','ìœ íš¨ì„± ì „ìš© í”„ë ˆì„','íŒŒìƒ ì§€í‘œ ë¯¸ì§€ì›'];

const DEBTS = [
  {
    id:'TD-1', name:'ì‹œê°„ì¶• ê²½ì§ì„±', priority:'P1', pClass:'p1',
    desc:'W1~W12 í•˜ë“œì½”ë”© Â· ëª¨ë“  ì§€í‘œê°€ ë™ì¼í•œ ì£¼ê°„ ê·¸ë¦¬ë“œë¥¼ ê³µìœ  Â· Study Day/Calendar Date ê°œë… ì—†ìŒ',
    affected:8, total:10, effort:'High',
    scenarios:['S2','S3','S4','S5','S7','S8','S9','S10'],
    tags:['CDISC ADaM','visit window','semantic zoom','hierarchical aggregation']
  },
  {
    id:'TD-2', name:'2-arm RCT ì „ì œ', priority:'P2', pClass:'p2',
    desc:'ì‹¤í—˜êµ°/ëŒ€ì¡°êµ° 2ê°œ ë¼ì¸ë§Œ ì¡´ì¬ Â· ë‹¨ì¼êµ°, 3-arm, crossover, cluster ëª¨ë‘ ë¯¸ì§€ì› Â· Verdictê°€ "êµ°ê°„ ë¹„êµ"ë§Œ í‘œì‹œ',
    affected:7, total:10, effort:'High',
    scenarios:['S2','S5','S7','S8','S9','S10'],
    tags:['study_config','MetricTemplate','verdict adapter','conditional layout']
  },
  {
    id:'TD-3', name:'ìˆ«ì ì „ìš© ë°ì´í„°', priority:'P3', pClass:'p3',
    desc:'ì‚¬ì§„, í…ìŠ¤íŠ¸, ë²”ì£¼í˜•, ë§ˆì´í¬ë¡œë°”ì´ì˜´ ì¡°ì„± ë“± ë¹„ìˆ«ì ë°ì´í„° ë Œë”ë§ ë¶ˆê°€',
    affected:5, total:10, effort:'Medium',
    scenarios:['S5','S6','S7','S9','S3'],
    tags:['image gallery','severity zone','stacked bar','AGP strip']
  },
  {
    id:'TD-4', name:'ê³ ì • ì¸¡ì • ë¹ˆë„', priority:'P1', pClass:'p1',
    desc:'ëª¨ë“  ì§€í‘œê°€ ë™ì¼í•œ ì¸¡ì • ê°„ê²©(ì£¼ê°„) ê°€ì • Â· 5ë¶„(CGM), ì¼ë³„(ìˆ˜ë©´), ì›”ë³„(ì²´ë ¥) ê³µì¡´ ë¶ˆê°€',
    affected:6, total:10, effort:'High',
    scenarios:['S2','S3','S4','S5','S8','S9'],
    tags:['async measurement','hierarchical storage','smart query router','scatter overlay']
  },
  {
    id:'TD-5', name:'ìœ íš¨ì„± ì „ìš© í”„ë ˆì„', priority:'P2', pClass:'p2',
    desc:'Verdict/ì°¨íŠ¸ê°€ "ì¹˜ë£Œ íš¨ê³¼"ë§Œ í‘œí˜„ Â· ì•ˆì „ì„± ëª¨ë‹ˆí„°ë§(DLT, AE, SAE) í”„ë ˆì„ ì—†ìŒ',
    affected:4, total:10, effort:'Medium',
    scenarios:['S4','S8','S9','S10'],
    tags:['AE timeline','stopping boundary','DSMB','safety-first']
  },
  {
    id:'TD-6', name:'íŒŒìƒ ì§€í‘œ ë¯¸ì§€ì›', priority:'P3', pClass:'p3',
    desc:'TIR(ë²”ìœ„ë‚´ì‹œê°„), Shannon diversity, composite endpoint ë“± ì›ì‹œê°’ì—ì„œ ê³„ì‚°ë˜ëŠ” ì§€í‘œ í‘œí˜„ ë¶ˆê°€',
    affected:5, total:10, effort:'Medium',
    scenarios:['S3','S4','S5','S6','S10'],
    tags:['derived metric engine','TIR','diversity index','composite endpoint']
  }
];

const SOLUTIONS = [
  {
    id:'SOL-1', debt:'TD-1 + TD-4', title:'ì‹œê°„ì¶• ì¼ë°˜í™” â€” CDISC Visit Window + Semantic Zoom',
    priority:'P1', pClass:'p1',
    research:'ë¦¬ì„œì¹˜ #1 (Flexible Time Axes) + ë¦¬ì„œì¹˜ #4 (Async Measurement)',
    problem:'í˜„ì¬ íƒ€ì„ë¼ì¸ì€ W1~W12 í•˜ë“œì½”ë”©ì…ë‹ˆë‹¤. CGMì€ 5ë¶„, ìˆ˜ë©´ì¼ì§€ëŠ” ì¼ë³„, ì²´ë ¥ì¸¡ì •ì€ ì›”ë³„ì¸ë°, ì´ ëª¨ë‘ë¥¼ ì£¼ê°„ ê·¸ë¦¬ë“œì— ì–µì§€ë¡œ ë§ì¶”ê³  ìˆìŠµë‹ˆë‹¤. "ë‚œ ì£¼ê°„ìœ¼ë¡œ íˆ´ ì¹˜ëŠ”ê²Œ ì¡°ì‹¬ìŠ¤ëŸ¬ì›Œ" â€” ë§ìŠµë‹ˆë‹¤.',
    steps:[
      '<strong>study_config.timeline</strong> ê°ì²´ ë„ì…: { duration_days, phases: [{name, start_day, end_day}], visit_windows: [{visit_id, target_day, window_min, window_max}] }',
      '<strong>Semantic zoom 5ë‹¨ê³„</strong>: Study(ì „ì²´) â†’ Epoch(ìŠ¤í¬ë¦¬ë‹/ì¹˜ë£Œ/ì¶”ì ) â†’ Month â†’ Week â†’ Day. ì‚¬ìš©ìê°€ í•€ì¹˜/ë²„íŠ¼ìœ¼ë¡œ ì „í™˜í•˜ë©´ ì°¨íŠ¸ê°€ í•´ë‹¹ í•´ìƒë„ë¡œ ì¬ë Œë”ë§',
      '<strong>Visit window ì•Œê³ ë¦¬ì¦˜</strong>: ê°œë³„ ì¸¡ì •ê°’ì„ (target_day Â± window) ë²”ìœ„ì— ë§¤í•‘. REDCap scheduling module íŒ¨í„´ â€” ì‹¤ì¸¡ì¼ì´ ìœˆë„ìš° ë°–ì´ë©´ "protocol deviation" í”Œë˜ê·¸',
      '<strong>Hierarchical aggregation 4ê³„ì¸µ</strong>: raw(ì›ë³¸) â†’ hourly â†’ daily â†’ visit. ì €ì¥ ì‹œ pre-aggregate, ì¤Œ ë ˆë²¨ì— ë”°ë¼ smart query routerê°€ ì ì ˆí•œ ê³„ì¸µ ì„ íƒ',
      '<strong>ë¯¸ë‹ˆ ì°¨íŠ¸ ë¦¬íŒ©í„°</strong>: canvas Xì¶•ì„ study_day ë¹„ë¡€ ìŠ¤ì¼€ì¼ë¡œ ë³€ê²½. ë¹ˆ êµ¬ê°„ì€ gapìœ¼ë¡œ í‘œì‹œ(ì„  ëŠê¹€), ë¯¸ë˜ êµ¬ê°„ì€ dashed'
    ],
    code:`<span class="comment">// study_config.timeline ì˜ˆì‹œ</span>
<span class="keyword">const</span> timeline = {
  duration_days: <span class="type">168</span>,
  phases: [
    { name: <span class="string">'ìŠ¤í¬ë¦¬ë‹'</span>, start: <span class="type">-57</span>, end: <span class="type">-1</span> },
    { name: <span class="string">'ì¹˜ë£Œ'</span>,     start: <span class="type">0</span>,   end: <span class="type">84</span> },
    { name: <span class="string">'ì¶”ì '</span>,     start: <span class="type">85</span>,  end: <span class="type">168</span> }
  ],
  visit_windows: [
    { id: <span class="string">'V1'</span>, target_day: <span class="type">0</span>,  min: <span class="type">-3</span>, max: <span class="type">3</span> },
    { id: <span class="string">'V2'</span>, target_day: <span class="type">14</span>, min: <span class="type">-5</span>, max: <span class="type">5</span> },
    { id: <span class="string">'V3'</span>, target_day: <span class="type">28</span>, min: <span class="type">-5</span>, max: <span class="type">5</span> },
    <span class="comment">// ... ì—°êµ¬ë³„ë¡œ ë‹¤ë¥¸ visit ê°„ê²©</span>
  ],
  zoom_levels: [<span class="string">'study'</span>,<span class="string">'epoch'</span>,<span class="string">'month'</span>,<span class="string">'week'</span>,<span class="string">'day'</span>]
};`
  },
  {
    id:'SOL-2', debt:'TD-2 + TD-5', title:'ì—°êµ¬ì„¤ê³„ ì–´ëŒ‘í„° â€” Study Config â†’ ì¡°ê±´ë¶€ ëŒ€ì‹œë³´ë“œ',
    priority:'P2', pClass:'p2',
    research:'ë¦¬ì„œì¹˜ #2 (Multi-Study-Design)',
    problem:'í˜„ì¬ Verdict stripì€ "p<0.001, d=0.82"ì²˜ëŸ¼ ë‘ êµ° ë¹„êµë§Œ í‘œì‹œí•©ë‹ˆë‹¤. ë‹¨ì¼êµ° ì½”í˜¸íŠ¸ì—ì„œëŠ” ë¹„êµ ëŒ€ìƒì´ ì—†ê³ , ì•ˆì „ì„± ì—°êµ¬ì—ì„œëŠ” "DLTê°€ boundary ì•ˆì¸ê°€?"ê°€ í•µì‹¬ ì§ˆë¬¸ì…ë‹ˆë‹¤.',
    steps:[
      '<strong>study_config.design</strong> í™•ì¥: { study_type: "rct"|"single_arm"|"crossover"|"cluster"|..., has_control_arm: bool, num_arms: int, primary_endpoint_type: "efficacy"|"safety"|"equivalence" }',
      '<strong>Verdict adapter</strong>: study_typeì— ë”°ë¼ verdict ì§ˆë¬¸ ë³€ê²½ â€” RCT: "ì¹˜ë£Œ > ëŒ€ì¡°?", single-arm: "ëª©í‘œê°’ ë‹¬ì„±?", safety: "DLT â‰¤ boundary?", crossover: "A vs B ê°œì¸ë‚´ ì°¨ì´?"',
      '<strong>MetricTemplate registry</strong>: ê° ì§€í‘œì— { direction: "up"|"down"|"monitor", comparison: "between_group"|"vs_threshold"|"within_subject", threshold: number } ì •ì˜',
      '<strong>ì¡°ê±´ë¶€ ë ˆì´ì•„ì›ƒ</strong>: study_typeì´ safetyì´ë©´ AE timeline + stopping boundary ìœ„ì ¯ì´ verdict strip ìƒë‹¨ì— ë°°ì¹˜. ëŒ€ì¡°êµ° ì—†ìœ¼ë©´ 2-line ì°¨íŠ¸ ëŒ€ì‹  1-line + threshold í‘œì‹œ',
      '<strong>Safety overlay</strong>: ëª¨ë“  ì—°êµ¬ ìœ í˜•ì— AE/SAE íƒ€ì„ë¼ì¸ ê¸°ë³¸ í¬í•¨ (ìˆ¨ê¹€ ê°€ëŠ¥). ìœ ì „ìì¹˜ë£Œì²˜ëŸ¼ safety-firstì´ë©´ ê¸°ë³¸ í¼ì¹¨'
    ],
    code:`<span class="comment">// Verdict adapter pattern</span>
<span class="keyword">const</span> verdictAdapters = {
  rct: (data) => ({
    question: <span class="string">'ì¹˜ë£Œê°€ ëŒ€ì¡°ë³´ë‹¤ ë‚˜ì€ê°€?'</span>,
    metric: <span class="string">'between-group difference'</span>,
    display: <span class="string">'p-value + effect size'</span>
  }),
  single_arm: (data) => ({
    question: <span class="string">'ëª©í‘œ ê¸°ì¤€ì„ ì¶©ì¡±í•˜ëŠ”ê°€?'</span>,
    metric: <span class="string">'vs threshold'</span>,
    display: <span class="string">'observed vs target + CI'</span>
  }),
  safety: (data) => ({
    question: <span class="string">'ë…ì„±ì´ í—ˆìš© ë²”ìœ„ ë‚´ì¸ê°€?'</span>,
    metric: <span class="string">'DLT rate vs boundary'</span>,
    display: <span class="string">'AE count + stopping rule'</span>
  })
};`
  },
  {
    id:'SOL-3', debt:'TD-3 + TD-6', title:'ëª¨ë“ˆëŸ¬ ë Œë”ëŸ¬ â€” ë°ì´í„°íƒ€ì…ë³„ ì‹œê°í™” í”ŒëŸ¬ê·¸ì¸',
    priority:'P3', pClass:'p3',
    research:'ë¦¬ì„œì¹˜ #3 (Mixed Data Types)',
    problem:'í˜„ì¬ ëª¨ë“  ì§€í‘œê°€ "ë‘ ì¤„ì§œë¦¬ line chart"ë¡œ ê·¸ë ¤ì§‘ë‹ˆë‹¤. ì‚¬ì§„(í”¼ë¶€ ìƒíƒœ), ë§ˆì´í¬ë¡œë°”ì´ì˜´(ë¬¸/ê³¼ ë¹„ìœ¨), CGM(AGP), EMA(ì¼ì¤‘ íŒ¨í„´)ì€ ê°ê° ê³ ìœ í•œ ì‹œê°í™”ê°€ í•„ìš”í•©ë‹ˆë‹¤.',
    steps:[
      '<strong>Renderer interface</strong> ì •ì˜: render(container, data, timeScale) â†’ ëª¨ë“  ë Œë”ëŸ¬ê°€ ë™ì¼í•œ ì‹œê°„ì¶• ë°›ì•„ì„œ ê·¸ë¦¼',
      '<strong>6ê°œ ê¸°ë³¸ ë Œë”ëŸ¬</strong>: numeric_line (í˜„ì¬), image_gallery (before/after + íƒ€ì„ë¼ì¸ ìŠ¤í¬ëŸ¬ë²„), severity_zone (PRO + green/yellow/red ë°°ê²½), agp_strip (CGM ì¤‘ì•™ê°’+IQR+ë²”ìœ„), stacked_bar (ë§ˆì´í¬ë¡œë°”ì´ì˜´ ì¡°ì„±), event_timeline (AE/ì´ë²¤íŠ¸ ì•„ì´ì½˜)',
      '<strong>íŒŒìƒ ì§€í‘œ ì—”ì§„</strong>: raw ë°ì´í„°ì—ì„œ ìë™ ê³„ì‚° â€” TIR(target_min~target_max ë‚´ %), Shannon diversity(H=-Î£pÂ·ln(p)), composite endpoint(first event time)',
      '<strong>MetricTemplateì— renderer ë§¤í•‘</strong>: { metric_id: "skin_photo", renderer: "image_gallery", derive_from: null } vs { metric_id: "tir", renderer: "numeric_line", derive_from: {source: "cgm", fn: "time_in_range", params: {min:70, max:180}} }',
      '<strong>ìƒì„¸ íŒ¨ë„ multi-track</strong>: í™˜ì ìƒì„¸ì—ì„œ ì—¬ëŸ¬ ë Œë”ëŸ¬ë¥¼ ì‹œê°„ì¶• ì •ë ¬í•˜ì—¬ ì„¸ë¡œ ìŠ¤íƒ â€” ì‚¬ì§„+ì ìˆ˜+ì¦ìƒ ì¼ì§€ë¥¼ í•œëˆˆì— ë¹„êµ'
    ],
    code:`<span class="comment">// Renderer registry</span>
<span class="keyword">const</span> renderers = {
  numeric_line:  { render: drawLineChart,    minHeight: <span class="type">80</span> },
  image_gallery: { render: drawImageStrip,   minHeight: <span class="type">120</span> },
  severity_zone: { render: drawSeverityChart, minHeight: <span class="type">80</span> },
  agp_strip:     { render: drawAGP,          minHeight: <span class="type">100</span> },
  stacked_bar:   { render: drawStackedBar,   minHeight: <span class="type">90</span> },
  event_timeline:{ render: drawEventIcons,   minHeight: <span class="type">40</span> },
};

<span class="comment">// Derived metric engine</span>
<span class="keyword">const</span> deriveFns = {
  time_in_range: (readings, {min, max}) =>
    readings.filter(r => r >= min && r <= max).length
    / readings.length * <span class="type">100</span>,
  shannon_diversity: (abundances) => {
    <span class="keyword">const</span> total = abundances.reduce((s,v) => s+v, <span class="type">0</span>);
    <span class="keyword">return</span> -abundances.reduce((h,v) => {
      <span class="keyword">const</span> p = v/total;
      <span class="keyword">return</span> p > <span class="type">0</span> ? h + p * Math.log(p) : h;
    }, <span class="type">0</span>);
  }
};`
  }
];

// ====== RENDER FUNCTIONS ======

function renderHeatmap(){
  const tbody = document.getElementById('heatmapBody');
  const impactLabels = ['','low','medium','high','critical'];
  tbody.innerHTML = SCENARIOS.map(s => {
    const total = s.scores.reduce((a,b)=>a+b,0);
    const maxScore = s.scores.length * 4;
    const pct = Math.round(total/maxScore*100);
    return `<tr>
      <td><span class="scenario-name">${s.id} ${s.name}</span><span class="scenario-type">${s.type}</span></td>
      ${s.scores.map(sc => {
        const cls = sc===0?'none':sc===1?'low':sc===2?'medium':sc===3?'high':'critical';
        const label = sc===0?'â€”':sc===1?'L':sc===2?'M':sc===3?'H':'C';
        return `<td><div class="impact ${cls}">${label}</div></td>`;
      }).join('')}
      <td><strong>${total}</strong>/24 <span style="color:#94a3b8;font-size:10px;">(${pct}%)</span></td>
    </tr>`;
  }).join('');
}

function renderDebts(){
  const grid = document.getElementById('debtGrid');
  grid.innerHTML = DEBTS.map(d => `
    <div class="debt-card ${d.pClass}">
      <div class="debt-id">${d.id} Â· ${d.priority}</div>
      <div class="debt-name">${d.name}</div>
      <div class="debt-desc">${d.desc}</div>
      <div class="debt-stats">
        <div class="debt-stat"><div class="val">${d.affected}/${d.total}</div><div class="label">ì‹œë‚˜ë¦¬ì˜¤ ì˜í–¥</div></div>
        <div class="debt-stat"><div class="val">${d.effort}</div><div class="label">í•´ê²° ë…¸ë ¥</div></div>
        <div class="debt-stat"><div class="val">${d.priority}</div><div class="label">ìš°ì„ ìˆœìœ„</div></div>
      </div>
      <div class="debt-tags">
        ${d.tags.map(t => `<span class="debt-tag">${t}</span>`).join('')}
        ${d.scenarios.map(s => `<span class="debt-tag affected">${s}</span>`).join('')}
      </div>
    </div>
  `).join('');
}

function renderSolutions(){
  const container = document.getElementById('solutionsContainer');
  container.innerHTML = SOLUTIONS.map(s => `
    <div class="solution-block">
      <div class="sol-header">
        <div>
          <div class="sol-title">${s.id}: ${s.title}</div>
          <div class="sol-research">ğŸ“š ê·¼ê±°: ${s.research}</div>
        </div>
        <div class="sol-priority ${s.pClass}">${s.priority} Â· ${s.debt}</div>
      </div>
      <div class="sol-problem">${s.problem}</div>
      <div class="sol-approach">
        <h4>êµ¬í˜„ ë‹¨ê³„</h4>
        ${s.steps.map((step,i) => `
          <div class="sol-step">
            <div class="step-num">${i+1}</div>
            <div>${step}</div>
          </div>
        `).join('')}
      </div>
      <div class="sol-code">${s.code}</div>
    </div>
  `).join('');
}

function scrollToSection(id){
  document.getElementById(id)?.scrollIntoView({behavior:'smooth'});
  document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
  event?.target?.classList.add('active');
}

// Init
renderHeatmap();
renderDebts();
renderSolutions();
</script>
</body>
</html>
